define("collections/articles",["jquery","underscore","backbone","models/article"],function(e,c,n,o){"use strict";var r=n.Collection.extend({model:o});return r});
define("collections/timeline",["jquery","underscore","backbone","models/map/layer/timeline/item"],function(e,n,i,t){"use strict";var l=i.Collection.extend({model:t});return l});
define("controls/L.Control.Timeline",["leaflet","d3"],function(t,i){return t.Control.Timeline?t:(t.Control.Timeline=t.Control.extend({options:{orientation:"left",height:500,width:100,margin:{left:3,right:3,top:10,bottom:5},collapsed:!0,item:{minHeight:1},on:null,title:"Timeline",position:"topleft"},initialize:function(i,e,n){var o=this;t.Util.setOptions(this,n),this._map=i,this._source=e;var l=this._container=t.DomUtil.create("div","leaflet-control-timeline leaflet-control");if(this.options.collapsed){t.DomUtil.addClass(l,"leaflet-control-timeline-collapsed");var s=this._toggle=t.DomUtil.create("a","leaflet-control-timeline-toggle",l);s.title=this.options.title,s.link="#";var a=function(){o._expand()};t.Browser.touch?t.DomEvent.on(s,"click",t.DomEvent.stop).on(s,"click",a,this):t.DomEvent.on(s,"click",a)}else t.DomUtil.addClass(l,"leaflet-control-timeline-expanded");return t.Browser.touch?t.DomEvent.on(this._container,"click",t.DomEvent.stopPropagation):t.DomEvent.disableClickPropagation(this._container),l},onRemove:function(){},onAdd:function(t){return this._container},_expand:function(){var e=this;if(!e._expanded&&(e._expanded=!0,this._map.on("click",this._collapse,this),t.DomUtil.removeClass(this._container,"leaflet-control-timeline-collapsed"),t.DomUtil.addClass(this._container,"leaflet-control-timeline-expanded"),!this._timeline)){var n=this.options.height-this.options.margin.top-this.options.margin.bottom,o=this.options.width-this.options.margin.right-this.options.margin.left,l=(this._xScale=i.scale.linear().range([0,o]),this._yScale=i.scale.linear().domain([this._source.start,this._source.end]).range([0,n])),s=this._timeline=i.select(".leaflet-control-timeline").append("svg").attr("id","timeline").attr("height",this.options.height).attr("width",this.options.width),a=s.append("g").attr("id","band").attr("width",o/2-this.options.margin.right).attr("height",n).attr("transform","translate("+.25*o+","+this.options.margin.top+") scale(.75 1.0)"),r=(a.selectAll("g").data(this._source.getItems()).enter().append("rect").attr("class","timeline-item").attr("height",function(t){return i.max([e.options.item.minHeight,l(t.duration())])}).attr("width",o).attr("transform",function(t){return"translate(0, "+l(t.start)+")"}),this._brush=i.svg.brush().y(l).on("brushend",function(){var t=l(r.extent()[0]),n=l(r.extent()[1]),o={clear:!1,selected:[]};t!==n?i.select("#band").selectAll("rect.timeline-item").each(function(i){l(i.start)<=n&&l(i.end)>=t&&o.selected.push(i)}):o.clear=!0,e.options.on.brushend(o)})),c=a.append("svg").attr("id","brush").call(r);c.selectAll("rect").attr("width",o);var h=s.append("g").attr("id","axis").attr("transform","translate("+(.25*o-this.options.margin.left)+","+this.options.margin.top+")"),p=i.svg.axis().scale(l).orient(this.options.orientation).tickSize(6,0).tickValues(this._source.tickValues()).tickFormat(function(t){return e._source.tickFormat(t)});h.call(p)}},_collapse:function(){this._expanded&&((this.options.on.collapse||"function"==typeof this.options.on.collapse)&&this.options.on.collapse(),this._expanded=!1,t.DomUtil.addClass(this._container,"leaflet-control-timeline-collapsed"),t.DomUtil.removeClass(this._container,"leaflet-control-timeline-expanded"),this._map.off("click",this._collapse,this))}}),void(t.control.timeline=function(i,e,n){return new t.Control.Timeline(i,e,n)}))});
define("controllers/issue",["jquery","underscore","backbone","controllers/prototype","mixins/asyncInit","views/issue","models/issue"],function(e,n,i,o,r,t,l){"use strict";var c=o.extend({model:null,view:null,router:null,initialize:function(i){var o=this;o.$def=e.Deferred(),o.router=i.router,o.model=new l({config:i.config}),o.view=new t({model:o.model,config:i.config}),o.view.render(),o.model.init().done(function(){n.forEach(o.model.get("collection").models,function(e){o.listenTo(e,"active",function(e){var n="article/"+e.get("articleid");o.router.navigate(n,{trigger:!0}),o.view.renderArticle(e)})}),o.$def.resolve(o)}).always(function(){o.$def.reject()})}});return n.extend(c.prototype,r),c});
define("controllers/map",["jquery","underscore","backbone","controllers/prototype","models/map","views/map","mixins/asyncInit","controllers/map/pan","controllers/map/layer"],function(e,o,r,n,a,p,i,t,l,u){"use strict";var s=n.extend({model:null,view:null,issue:null,config:null,mapPanController:null,MapLayerController:null,mapTimelineController:null,initialize:function(o){var r=this;r.$def=e.Deferred(),r.config=o.config,r.router=o.router,r.issue=o.issue,r.model=new a(o),r.view=new p({model:r.model,router:r.router,issue:r.issue}),r.view.init().done(function(){r.mapPanController=new t({map:r.view.map,mapconfig:r.model.attributes.mapconfig}),r.mapLayerController=new l({view:r.view,map:r.view.map,model:r.model,mapconfig:r.model.attributes.mapconfig,controlsconfig:r.config.controls}),r.listenTo(r.view,"markers",function(e){r._registerMarkers(e),r.mapPanController.fitMarkerBounds(r.view.markerViews)}),r.view.render()}),e.when.apply(null,[r.model.init(),r.view.init()]).done(function(){r.$def.resolve(r)})},_registerMarkers:function(e){var r=this;o.forEach(e,function(e){r.listenTo(e.model,"active",function(o){r.mapPopupOpen(e.markerLayer);var n=r._getMarkerLayer(e.markerLayer,"getPopup");null!==n&&r.mapPanController.handlePopupPosition(n.getPopup())}),r.listenTo(e.model,"toggle",function(o){r.mapPopupToggle(e.markerLayer);var n=r._getMarkerLayer(e.markerLayer,"getPopup");null!==n&&r.mapPanController.handlePopupPosition(n.getPopup())}),r.listenTo(e,"click",function(o){r.mapPopupOpen(o),e.model.trigger("active",e.model)}),r.listenTo(e,"mouseover",function(e){r.view.map.hoverPopup&&(openpopup[popupid(mapMarker.getLatLng())]||mapMarker.openPopup())})})},_getMarkerLayer:function(e,r){var n,a;if(e instanceof L.LayerGroup){if(r in e)n=e;else for(a=e.getLayers();e=a.pop();)if(r in e){n=e;break}}else o.has(e,"originalEvent")&&(n=e.target);return n},mapPopupOpen:function(e){var o=this._getMarkerLayer(e,"openPopup");o&&o.openPopup()},mapPopupToggle:function(e){var o=this._getMarkerLayer(e,"togglePopup");o&&o.togglePopup()},mapPopupClose:function(e){var o=this._getMarkerLayer(e,"closePopup");o&&o.closePopup()}});return o.extend(s.prototype,i),s});
define("controllers/prototype",["underscore","backbone"],function(e,t){"use strict";var n=function(){this.cid=e.uniqueId("controller"),this.initialize.apply(this,arguments)};return n.extend=t.Router.extend,e.extend(n.prototype,t.Events),e.extend(n.prototype,{initialize:function(){throw new Error("unimplemented initialize()")}}),n});
define("mixins/asyncInit",["jquery","underscore"],function(n,e){"use strict";var i={$def:null,init:function(){return this.$def.promise()}};return i});
define("mixins/domwatcher",["jquery"],function(e){"use strict";var t={watchDOM:function(t,o,n){if(!o)throw"Empty selector in watchDOM()";if(0===e(o).length){var d=function(){e(o).length>0&&(e(document.body).off("DOMNodeInserted",d),n.resolve())};e(document.body).on("DOMNodeInserted",d),window.setTimeout(function(){e(document.body).off("DOMNodeInserted",d),n.reject()},t)}else n.resolve()}};return t});
define("mixins/fetchxml",["jquery"],function(e){"use strict";var r={fetchXML:function(r){var t=e.Deferred();return e.ajax({type:"GET",url:r,dataType:"xml",success:function(e){t.resolve(e)},error:function(e,r,n){t.reject(r)}}),t.promise()}};return r});
define("mixins/xml2html",["jquery","underscore"],function(e,t){"use strict";var r={_doc:function(e){var t;if("string"==typeof e)t=(new DOMParser).parseFromString(e,"text/xml");else{if(!(e instanceof Document))throw new Error("Unrecognized document input in XML2HTML");t=e}if(null==t||!t.hasOwnProperty("getElementsByTagName")&&t.getElementsByTagName("parsererror").length>0)throw new Error("Failed to parse document in xml2html");return t},xml2html:function(e,r,n,o){var i=this._doc(e),m=this._doc(r),a=new XSLTProcessor;a.importStylesheet(m),"object"==typeof n&&t.each(t.keys(n),function(e){a.setParameter(null,e,n[e])});var s;try{var c=a.transformToDocument(i);s=-1!=navigator.userAgent.indexOf("Firefox")?"text"===o?c.documentElement.textContent:c.documentElement:"text"===o?c.documentElement.textContent:s=c.body.innerHTML}catch(u){throw new Error("Error in XSLT transform: "+u.toString())}return s}};return r});
define("models/article",["jquery","underscore","backbone","mixins/fetchxml","mixins/asyncInit","mixins/xml2html","text!xsl/geojson.xsl","text!xsl/cited-range.xsl","models/error/user","views/error/user"],function(e,t,n,o,r,s,i,l,a,c){"use strict";var d=n.Model.extend({initialize:function(){var t=this;t.$def=e.Deferred();try{var n=t.fetchXML(t.get("path"));e.when(n).done(function(e){t.set("xml",e),t._mkGeojson(),t._mkCitedRange(),t.geojson?(t.set("placeType",t.geojson.properties.layer),t.$def.resolve(t)):t.$def.reject()}).fail(function(e){new c({model:new a({msg:"Error encountered handling xml file at '"+t.get("path")+"': "+e})}),t.$def.reject()})}catch(o){t.$def.reject(),new c({model:new a({msg:o.toString()})})}},defaults:{xml:null,placeType:null,iconUrl:"",citedRange:{}},geojson:null,getGeojson:function(){return null===this.geojson&&this._mkGeojson(),this.geojson},_mkGeojson:function(){var e=this;try{var t=this.xml2html(this.get("xml"),i,{},"text");this.geojson=JSON.parse(t)}catch(n){new c({model:new a({msg:"Failed to parse geojson generated from '"+e.get("path")+"': "+n.toString()})})}},_mkCitedRange:function(){try{var e=this.xml2html(this.get("xml"),l,{},"text");this.set("citedRange",JSON.parse(e))}catch(t){throw new Error("Failed to parse cited range json: "+t.toString())}}});return t.extend(d.prototype,o),t.extend(d.prototype,r),t.extend(d.prototype,s),d});
define("models/issue",["jquery","underscore","backbone","models/article","collections/articles","mixins/asyncInit"],function(e,t,n,i,r,o){"use strict";var c=n.Model.extend({initialize:function(n){var o=this;o.$def=e.Deferred();var c=n.config.articles.pathBase;c.match(/\/$/)||(c+="/");var a=n.config.articles.files,s=new r;o.config=n.config,o.set("collection",s);var f=t.map(t.range(a.length),function(){return void 0});t.each(a,function(e,t){f[t]=new i({articleid:t,articledir:c,path:c+e})});var l=t.map(f,function(e){return e.init()});e.when.apply(null,l).done(function(){s.add(f),o.setIcons(),o.$def.resolve(o)}).always(function(){t.forEach(l,function(e){"rejected"===e.state()&&o.$def.reject()}),o.$def.reject()})},setIcons:function(){var e=this,n=e.config.markers.icons,i=t.shuffle(t.flatten(t.map(n,function(e){return t.map(e.files,function(t){return e.dir.concat(t)})}))),r=i.pop(),o=[];e.get("collection").forEach(function(e,t){var n=e.getGeojson()||{properties:{}},c=n.properties.layer;o[c]=o[c]||i.pop()||r,e.set("iconUrl",o[c])})},getArticle:function(e){var t,n=this.get("collection");return"object"==typeof e?t=e:("number"==typeof e||"string"==typeof e)&&(t=n.at(e)),t}});return t.extend(c.prototype,o),c});
define("models/map",["jquery","underscore","backbone","mixins/asyncInit"],function(e,n,i,o){"use strict";var t=i.Model.extend({initialize:function(n){var i=this;i.$def=e.Deferred(),e.getJSON(n.config.map.config,function(e){i.set("mapconfig",e),i.$def.resolve(i)}).fail(function(e,n,o){console.log("Failed to load map config file: "+o),i.$def.reject()})},defaults:{mapconfig:{}}});return n.extend(t.prototype,o),t});
define("routes/router",["jquery","underscore","backbone","models/error/user","views/error/user","views/clear","controllers/issue","controllers/map","views/menu"],function(e,r,i,t,n,o,s,a,l){"use strict";var u=i.Router.extend({pages:{},config:{},issueController:null,mapController:null,initialize:function(e){var t=this;this.config=e.config,this.pages=e.config.pages,this.issueController=new s({router:this,config:this.config}),this.issueController.init().done(function(){r.has(t.pages.router,"history")&&t.pages.router.history&&i.history.start()})},navigate:function(e,r){i.history.fragment!==e&&i.history.navigate(e,r)},page:function(e){var i,t=this,n=!1;try{if(e||(e=this.pages.home),i=this.pages.pages[e],void 0===i)throw new Error("Missing config in router/page")}catch(s){return this.page("404")}(new o).render(),r.each(i,function(i){var o,s={config:t.config,issue:t.issueController.model,router:t},l=JSON.parse(JSON.stringify(i));if(r.has(l,"view"))o=l.view;else{if(!r.has(l,"partial")){if(r.has(confg,"full"))return void(window.location.href=l.full.page);throw new Error("Unsupported page type in router: "+e)}o="views/partial",l.partial.page=t.pages.pathBase+l.partial.page,s=r.extend(s,l.partial)}"views/map"===o?(t.mapController=new a(s),n=!0):require([o],function(e){var r=new e(s);r.render()})}),n||(t.mapController=null)},article:function(r){var i=this,t={config:i.config,issue:i.issueController.model,router:i};e("#titlepage").length>0&&e("#titlepage").remove(),e("#page").length>0&&e("#page").remove(),null===i.mapController&&(i.mapController=new a(t)),0===e("#menu").children().length&&new l(t).render(),i.mapController.init().done(function(){var e=i.issueController.model.getArticle(r);e.trigger("active",e)})}});return u});
define("views/app",["jquery","underscore","backbone"],function(e,n,i){"use strict";var o=i.View.extend({el:"body",initialize:function(){e(window).resize(function(){document.location.reload()})}});return o});
define("views/article",["jquery","underscore","backbone","views/article/gallery","mixins/xml2html","text!xsl/article.xsl"],function(e,i,t,r,l,o){"use strict";var n=t.View.extend({id:"article",initialize:function(e){var i=this;i.config=e.config},render:function(){var i=this;if(i.$el=e("#"+i.id),0===i.$el.find("#"+i.model.cid).length){var t=this.xml2html(this.model.get("xml"),o,{"article-dir":i.config.articles.pathBase,iconUrl:i.model.get("iconUrl"),cid:i.model.cid});try{e(".article-content").remove(),e("#"+this.id).append(t)}catch(l){console.log("article load error: "+l.toString())}return e("img.slidesjs-slide").length>0?(new r).render():(e("#footer").remove(),e("article").removeClass("before-footer").addClass("no-footer")),i.$el.find(".article-marker").click(function(e,t){i.model.trigger("toggle",i.model)}),i}},remove:function(){}});return i.extend(n.prototype,l),n});
define("views/clear",["jquery","underscore","backbone"],function(e,n,r,t){"use strict";var c=r.View.extend({el:"body",render:function(){e("body").empty()}});return c});
define("views/issue",["jquery","underscore","backbone","text!partials/issue.html","views/article"],function(e,i,t,n,r){"use strict";var s=t.View.extend({el:"#issue",template:i.template(n),initialize:function(e){var i=this;i.config=e.config},render:function(){this.$el.remove(),e("body").append(n)},renderArticle:function(e){new r({model:e,config:this.model.config,issue:this,router:this.model.router}).render()}});return s});
define("views/map",["jquery","underscore","backbone","leaflet","text!partials/map.html","views/marker","mixins/asyncInit","models/error/user","views/error/user"],function(e,i,n,a,r,t,o,m,s){"use strict";var p=n.View.extend({id:"map",tagName:"div",markerViews:[],mapconfig:{},initialize:function(n){var a=this;a.$def=e.Deferred(),a.model=n.model,a.issue=n.issue,e.when.apply({},[a.issue.init(),a.model.init()]).done(function(){if(a.mapconfig=a.model.get("mapconfig"),!(e("#"+this.id).length>0||e("#"+this.id).children().length>0))try{if(a._initMap(),!a.markerViews)throw"undefined marker views.";var n=i.map(a.markerViews,function(e){e.$def});e.when.apply({},n).done(function(){a.$def.resolve(a)})}catch(r){new s({model:new m({msg:r.toString()})})}})},_initMap:function(){var n=this;if(0===e("#"+this.id).length){if(e("body").append(r),n.map=new a.Map(n.mapconfig.id,n.mapconfig.map),n.mapconfig.view)try{n.map.setView(new a.LatLng(n.mapconfig.view.lat,n.mapconfig.view.lng),n.mapconfig.view.zoom)}catch(o){new s({model:new m({msg:"Leaflet reports bad data in map.json file. "+o.toString()})})}new a.TileLayer(n.mapconfig.tileLayer.url,n.mapconfig.tileLayer.opts).addTo(n.map),new a.control.scale(n.mapconfig.scale).addTo(n.map),n.markerViews=i.map(n.issue.get("collection").models,function(e){return new t({model:e,map:n.map,mapconfig:n.mapconfig})})}},render:function(){var e=this;e._initMap(),i.forEach(e.markerViews,function(e){e.render()}),e.trigger("markers",e.markerViews)}});return i.extend(p.prototype,o),p});
define("views/marker",["jquery","underscore","backbone","models/error/user","views/error/user","text!partials/marker.html","text!partials/marker-legend.html","mixins/asyncInit"],function(e,r,t,i,a,n,o,l){"use strict";var m=t.View.extend({template:r.template(n),el:"",markerLayer:null,map:null,mapconfig:null,initialize:function(r){var t=this;t.$def=e.Deferred(),t.map=r.map,t.mapconfig=r.mapconfig;try{if(t.initMarkerLayer(),!t.markerLayer)throw"Failed to initialize marker layer.";t.$def.resolve(t)}catch(n){new a({model:new i({msg:n.toString()})})}},initMarkerLayer:function(){var e=this,r=this.model.getGeojson(),t=e.mapconfig.features.icon;t.iconUrl=this.model.get("iconUrl")||"";var i=L.icon(t);e.markerLayer=L.geoJson(r,{onEachFeature:function(r,t){var i=L.popup(e.mapconfig.features.popup);i.setContent(e.template({articleid:e.model.get("articleid"),geojson:e.model.getGeojson()})),t.bindPopup(i),t.removeEventListener("click"),t.on("click",function(r){e.trigger("click",r)}),t.on("mouseover",function(r){e.trigger("mouseover",r)})},pointToLayer:function(r,t){return L.marker(t,{icon:i,clickable:!!r.properties.text,title:r.properties.markername||"",opacity:e.mapconfig.features.opacity,riseOnHover:e.mapconfig.features.riseOnHover})}})},render:function(){var e=this;try{if(!this.markerLayer){var r=e.model.get("path");throw"map marker layer is undefined for article '"+r+"'. Check lat/lng values in file."}this.markerLayer.addTo(this.map)}catch(t){new a({model:new i({msg:"Error adding marker layer: "+t.toString()})})}}});return r.extend(m.prototype,l),m});
define("views/menu",["jquery","underscore","backbone","text!partials/menu.html","mixins/domwatcher","views/article/menu"],function(e,t,n,i,r,o){"use strict";var a=n.View.extend({template:t.template(i),id:"menu",tagName:"div",issue:null,config:{},initialize:function(e){this.config=e.config,this.issue=e.issue},render:function(){var n=this;if(0===e("#"+n.id).children().length){var i=this.config.menu,r=[],a={},c={};t.each(i,function(e){if(a[e.partial]="","menu"===e.type){if("collections/articles"!==e.collection)throw new Error("Unhandled collection type requested: "+e.collection);c[e.collection]=n.issue.get("collection")}}),t.each(t.keys(a),function(n){var i=e.Deferred();require(["text!"+n],function(e){a[n]=t.template(e),i.resolve()}),r.push(i.promise())});var l="";e.when.apply(e,r).done(function(){t.forEach(i,function(n,i){var r=n.partial,u={},s="",f=[];"page"===n.type||"sep"===n.type?l+=a[r](n):"menu"===n.type&&(c[n.collection].models.forEach(function(t,i){var r,a=n.item.href.replace(":i",i),c=new o({model:t}),l=c.render({href:"#"+a});if("string"==typeof l)r=e(l);else{if(!(l instanceof Element))throw new Error("Unsupported result type for submenu: "+l.toString());if("BODY"===l.nodeName)r=e(l.innerHTML);else{if("LI"!==l.nodeName)throw new Error("Unsupported document element for submenu: "+l.toString());r=e(l.outerHTML)}}r.attr("data-sort-key")?u[r.attr("data-sort-key")]=r.clone():u[r.find("a").text()]=r.clone()}),f=t.keys(u),f.sort(function(e,t){return e.localeCompare(t)}),t.each(f,function(e){s+=u[e][0].outerHTML}),l+=a[r]({label:n.label,items:s}))})}).then(function(){e("#"+n.id).empty().append(n.template({content:l}));var t=e.Deferred();t.fail(function(){n.render()}),n.watchDOM(500,"#"+n.id,t)}).fail(function(){throw new Error("Failed to build menu.")})}}});return t.extend(a.prototype,r),a});
define("views/page",["jquery","underscore","backbone","mixins/domwatcher","text!partials/page.html"],function(e,t,n,r,i){"use strict";var a=n.View.extend({el:"body",render:function(){var t=this,n=e.Deferred();n.then(function(){e(t.el).append(i)}),this.watchDOM(1e3,t.el,n)}});return t.extend(a.prototype,r),a});
define("views/partial",["jquery","underscore","backbone","mixins/domwatcher","mixins/asyncInit"],function(e,t,n,i,r){"use strict";var a=n.View.extend({el:"",page:"",initialize:function(t){var n=this;n.el=t.el,n.$def=e.Deferred(),require(["text!"+t.page],function(e){n.page=e,n.$def.resolve(n)})},render:function(){var t=this,n=e.Deferred();t.init().then(function(){e(t.el).append(t.page)}),this.watchDOM(1e3,t.el,n)}});return t.extend(a.prototype,i),t.extend(a.prototype,r),a});
define("controllers/map/layer",["jquery","underscore","backbone","controllers/prototype","controllers/map/layer/placetype","controllers/map/layer/timeline"],function(e,r,o,n,t,i){"use strict";var a=n.extend({view:null,router:null,map:null,controlsconfig:null,initialize:function(e){var o=this;o.map=e.map,o.view=e.view,o.model=e.model,o.controlsconfig=e.controlsconfig,o.subControllers=[],r.has(o.controlsconfig,"placetype")&&o.controlsconfig.placetype.enable&&o.subControllers.push(new t({views:o.view.markerViews,map:o.view.map,mapconfig:o.model.attributes.mapconfig})),r.has(o.controlsconfig,"timeline")&&o.controlsconfig.timeline.enable&&o.subControllers.push(new i({markerViews:o.view.markerViews,map:o.view.map,siteconfig:o.model.attributes.config})),r.forEach(o.subControllers,function(e){o.listenTo(e,"filter",function(){o._updateMarkers()})})},_updateMarkers:function(){var e=this,o=[],n=[];r.forEach(e.subControllers,function(e){var o=e.getFilterState();n.push(o.hide),n=r.flatten(n)}),r.forEach(e.view.markerViews,function(e){var t=r.find(n,function(r){r===e.markerLayer});t||o.push(e.markerLayer)}),r.forEach(o,function(r){e.view.map.addLayer(r)}),r.forEach(n,function(r){e.view.map.removeLayer(r)})}});return a});
define("controllers/map/pan",["jquery","underscore","backbone","controllers/prototype","mixins/domwatcher"],function(t,e,n,o,i){"use strict";var a=o.extend({map:null,mapconfig:null,initialize:function(t){if(this.map=t.map,this.mapconfig=t.mapconfig,!this.map)throw new Error("Uninitialized map")},_fitMarkerBounds:function(t){var n=this,o=document.getElementById("article");if(o){var i=L.DomUtil.getViewportOffset(o).x,a=L.latLngBounds(e.map(t,function(t){var e=t.model.getGeojson().geometry.coordinates.slice(0);return L.latLng(e.reverse())}));0===i?n.map.fitBounds(a):i!=n.map.getSize().x?n.map.fitBounds(a,{paddingBottomRight:[document.body.clientWidth-i,0]}):n.map.fitBounds(a),n.map.invalidateSize()}},fitMarkerBounds:function(e){var n=this,o=t.Deferred();o.then(function(){n.mapconfig.view||n._fitMarkerBounds(e)}),this.watchDOM(1e3,"#article",o)},handlePopupPosition:function(e){var n,o,i,a,r,p=this,s=p.map,d=t(e.getContent()).attr("id");i=e.getLatLng(),void 0!==i&&(n=L.DomUtil.getViewportOffset(document.getElementById("article")).x,o=t("#"+d).closest(".leaflet-popup-content-wrapper").first(),r=L.point(e.options.autoPanPaddingBottomRight||e.options.autoPanPadding),r=r?r.x:0,a=o.length>0?o.offset().left+o.width()+r:0,0!=n&&a>n&&n!=s.getSize().x?s.panBy([a-n,0]):s.getBounds().contains(e.getLatLng())||(s.closePopup(e),s.openPopup(e)))}});return e.extend(a.prototype,i),a});
define("models/error/user",["backbone"],function(e){"use strict";var s=e.Model.extend({defaults:{msg:""},initialize:function(e){this.set("msg",e.msg)}});return s});
define("views/article/gallery",["jquery","underscore","backbone","views/article/gallery/popover","views/article/gallery/lightbox","views/article/gallery/slides"],function(e,i,r,n,l,a){"use strict";var o=r.View.extend({id:"article",initialize:function(){},remove:function(){},render:function(){var i=e("#article article").height()-e("#header").outerHeight(!0);e("#body").css({height:i});var r=[];e("img.slidesjs-slide").each(function(i,n){var l=e.Deferred();e(n).load(function(){e(n).removeClass("remove"),l.resolve()}),e(n).error(function(){window.setTimeout(function(){l.reject()},500)}),r.push(l)}),e.when.apply({},r).always(function(){e("img.slidesjs-slide.remove").remove(),e(".image-loading").removeClass("image-loading"),(new n).render(),(new l).render(),(new a).render()})}});return o});
define("views/article/menu",["jquery","underscore","backbone","mixins/xml2html","text!xsl/article-menu.xsl"],function(e,t,i,n,r){"use strict";var l=i.View.extend({render:function(e){var t=this;if("resolved"!==this.model.init().state())throw"Uninitialized article in ArticleMenuView";var i=t.xml2html(t.model.get("xml"),r,e);return i}});return t.extend(l.prototype,n),l});
define("views/error/user",["jquery","backbone","text!partials/error/user.html"],function(e,t,r){"use strict";var i=t.View.extend({template:_.template(r),el:e("#errorDialog"),initialize:function(){this.render()},render:function(){return this.$el.html&&this.$el.modal&&(this.$el.html(this.template(this.model.attributes)),this.$el.modal({keyboard:!0,show:!0})),this}});return i});
define("controllers/map/layer/placetype",["jquery","underscore","backbone","controllers/prototype","models/error/user","views/error/user","text!partials/marker-legend.html"],function(e,r,o,t,n,l,a){"use strict";var i=t.extend({views:null,router:null,map:null,control:null,initialize:function(o){var t=this;t.views=o.views,t.map=o.map,t.mapconfig=o.mapconfig;var i=r.template(a),c=r.groupBy(t.views,function(e){return e.model.getGeojson().properties.layer}),s=t.control=L.control.layers(null,null,t.mapconfig.control.layers.options).addTo(t.map),u=s.getContainer();r.forEach(Object.keys(u),function(e){e.match("mouseover")&&u.removeEventListener("mouseover",u[e]),e.match("mouseout")&&u.removeEventListener("mouseout",u[e])}),L.DomEvent.on(e(".leaflet-control-layers-toggle")[0],"click",s._expand,s),r.each(r.keys(c),function(e){var o=e.replace(/\s+/g,"-"),t=i({iconUrl:c[e][0].model.get("iconUrl"),title:e,klass:o}),a=r.map(c[e],function(e){return e.markerLayer});try{var u=L.layerGroup(a);s.addOverlay(u,t)}catch(m){new l({model:new n({msg:m.toString()})})}}),e("input.leaflet-control-layers-selector").each(function(r,o){e(o).click()}),s.mapLayerController=t,s._onInputClick=t._onInputClick},getFilterState:function(){return{show:this.show||[],hide:this.hide||[]}},_onInputClick:function(){var e,r,o,t=this,n=[],l=[],a=t._form.getElementsByTagName("input"),i=a.length;for(t._handlingClick=!0,e=0;i>e;e++)r=a[e],o=t._layers[r.layerId],o.layer.getLayers().forEach(r.checked?function(e){n.push(e)}:function(e){l.push(e)});t._handlingClick=!1,t._refocusOnMap(),t.mapLayerController.show=n,t.mapLayerController.hide=l,t.mapLayerController.trigger("filter")}});return i});
define("controllers/map/layer/timeline",["jquery","underscore","backbone","controllers/prototype","views/map/layer/timeline","models/map/layer/timeline"],function(e,r,i,n,t,a){"use strict";var l=n.extend({map:null,model:null,view:null,siteconfig:null,markerViews:null,initialize:function(e){var r=this;r.views=e.views,r.map=e.map,r.markerViews=e.markerViews,r.model=new a({siteconfig:e.siteconfig,markerViews:e.markerViews}),r.view=new t({model:r.model,map:r.map,markerViews:e.markerViews}),r.listenTo(r.view,"filter",r._handleFilterEvent),r.view.render()},_handleFilterEvent:function(e){var i=this,n=[],t=[],a={};e.clear?n=r.map(i.markerViews,function(e){return e.markerLayer}):(n=r.map(e.selected,function(e){return a[e.markerView.model.cid]=void 0,e.markerView.markerLayer}),t=r.map(r.filter(i.markerViews,function(e){return!(e.model.cid in a)}),function(e){return e.markerLayer})),i.show=n,i.hide=t,i.trigger("filter")},getFilterState:function(){return{show:this.show||[],hide:this.hide||[]}}});return l});
define("models/map/layer/timeline",["jquery","underscore","backbone","collections/timeline","models/map/layer/timeline/item","mixins/asyncInit"],function(e,t,r,n,i,a){"use strict";var o=r.Model.extend({markerViews:null,start:null,end:null,siteconfig:null,bookconfig:null,initialize:function(t){var r=this;r.markerViews=t.markerViews,r.siteconfig=t.siteconfig,r.$def=e.Deferred(),e.getJSON(r.siteconfig.book.file,function(e){r.bookconfig=e.book,r._initialize(),r.$def.resolve(r)}).fail(function(e,t,n){r.$def.reject()})},_initialize:function(){var e=this,r=new n;e.set("collection",r),t.forEach(e.markerViews,function(n){var a=n.model,o=t.findWhere(e.bookconfig.chapters,{part:a.attributes.citedRange.part,chapter:a.attributes.citedRange.chapter});if(o){var c=o.paragraphs.start+a.attributes.citedRange.paragraph,s=c+1;r.add(new i({start:c,end:s,markerView:n}))}}),e.start=t.min(e.bookconfig.chapters,function(e){return e.paragraphs.start}).paragraphs.start,e.end=t.max(e.bookconfig.chapters,function(e){return e.paragraphs.end}).paragraphs.end},getItems:function(){return this.get("collection").models},tickValues:function(){var e=t.map(this.bookconfig.chapters,function(e){return e.paragraphs.start});return e.sort(function(e,t){return e-t}),e},tickFormat:function(e){var t,r,n=this;for(t=0;t<n.bookconfig.chapters.length;++t)if(r=n.bookconfig.chapters[t],e<=r.paragraphs.end)return e=r.chapter,e===n.bookconfig.chapters.length-1?"":e;return""}});return t.extend(o.prototype,a),o});
define("views/article/gallery/lightbox",["jquery","underscore","backbone","text!partials/lightbox-title.html","lightbox"],function(e,t,i,n){"use strict";var r=i.View.extend({id:"article",initialize:function(){},remove:function(){},render:function(){var i=this;return e(".gallery-item").magnificPopup({type:"image",gallery:{enabled:!0},image:{titleSrc:function(i){var r=i.el.attr("id"),l=e(".popover."+r),a=t.template(n),o=a({title:l.find(".head").text(),attr:l.find(".attr").text()});return o}}}),e(".glyphicon.glyphicon-expand").on("click",function(t){e(".gallery-item").magnificPopup("open")}),i}});return r});
define("views/article/gallery/popover",["jquery","underscore","backbone","text!partials/image-popover.html","text!partials/image-popover-content.html"],function(e,t,i,r,n){"use strict";var o=i.View.extend({id:"article",initialize:function(){},remove:function(){},render:function(){var i=this,o=t.template(n);return e("img.slidesjs-slide").each(function(t,i){var n=i.getAttribute("id"),a=e(".popover."+n),c=a.find(".head").text();e(i).attr("alt",a.find(".desc").text());var l=o({attr:a.find(".attr").text()});e(i).popover({container:"body",html:!0,content:l,title:c,template:r,trigger:"hover",placement:"left"}),e(i).click(function(t){e(i).popover("hide")})}),i}});return o});
define("views/article/gallery/slides",["jquery","underscore","backbone","text!partials/image-popover.html","text!partials/image-popover-content.html","text!partials/lightbox-title.html","slidesjs","lightbox"],function(i,e,t,s,n,l){"use strict";var a=t.View.extend({id:"article",initialize:function(){},remove:function(){},render:function(){var e=this;return i("#slides").slidesjs({navigation:{active:i("img.slidesjs-slide").length>1,effect:"fade"},pagination:{active:i("img.slidesjs-slide").length>1,effect:"fade"},effect:{fade:{speed:100,crossfade:!0}},callback:{loaded:function(e){var t=i(".slidesjs-control").children(":eq("+(e-1)+")");t.css({visibility:"hidden"}),t.css({height:"auto",width:"auto",maxHeight:i(".slidesjs-container").height(),maxWidth:i(".slidesjs-container").width(),position:"relative"}),t.css({left:(i(".slidesjs-container").width()-t.width())/2-parseInt(t.css("padding-left"),10),margin:0}),t.css({visibility:"visible"})},start:function(e){i(".slidesjs-control").children().css({visibility:"hidden"})},complete:function(e){var t=e-1,s=i(".slidesjs-control").children(":eq("+t+")");s.css({height:"auto",width:"auto",maxHeight:i(".slidesjs-container").height(),maxWidth:i(".slidesjs-container").width(),position:"relative"}),s.css({visibility:"visible"})}}}),e}});return a});
define("views/map/layer/timeline",["jquery","underscore","backbone","leaflet","text!partials/timeline.html","controls/L.Control.Timeline"],function(e,i,t,n,l){"use strict";var o=t.View.extend({id:"timeline",map:null,initialize:function(e){var i=this;i.map=e.map},_timelineCollapse:function(){var e=this;e._handleFilter({clear:!0})},_handleFilter:function(e){this.trigger("filter",e)},render:function(){var i,t,l,o,a=this;l=e("#map").height(),o=document.body.clientHeight,Math.abs(o/2-l)<2?(i="bottomright",t=e("#map").height()-100):(i="topleft",t=500),a.model.init().done(function(){a.timeline=n.control.timeline(a.map,a.model,{height:t,position:i,on:{brushend:function(e){a._handleFilter(e)}}}).addTo(a.map)})}});return o});
define("models/map/layer/timeline/item",["jquery","underscore","backbone"],function(e,n,t){"use strict";var r=t.Model.extend({markerView:null,start:null,end:null,initialize:function(e){var n=this;n.markerView=e.markerView,n.start=e.start,n.end=e.end},duration:function(){return this.end-this.start},compareTo:function(e){}});return r});
require.config({paths:{backbone:"//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min",bootstrap:"//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/js/bootstrap.min",d3:"//cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min",jquery:"//code.jquery.com/jquery-2.1.4.min",leaflet:"//unpkg.com/leaflet@0.7.3/dist/leaflet",lightbox:"//cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.0.0/jquery.magnific-popup.min",slidesjs:"//cdnjs.cloudflare.com/ajax/libs/slidesjs/3.0/jquery.slides.min",text:"//cdnjs.cloudflare.com/ajax/libs/require-text/2.0.12/text.min",underscore:"//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min",partials:"../partials",xsl:"../script/xsl",pages:"../pages"},shim:{bootstrap:{deps:["jquery"]},backbone:{deps:["jquery","underscore"],exports:"Backbone"},underscore:{exports:"_"},text:{deps:[]},slidesjs:{deps:["jquery"]},lightbox:{deps:["jquery"]}}}),require(["jquery","models/error/user","views/error/user","routes/router","views/app","bootstrap"],function(e,s,o,r,a){"use strict";var i=e("#main").attr("data-config");i?e.getJSON(i,function(e){try{new a,new r({routes:e.pages.routes,config:e})}catch(i){e.debug||new o({model:new s({msg:i.toString()})})}}).fail(function(e,r,a){new o({model:new s({msg:"Failed to load site config file '"+i+"' "+a})})}):new o({model:new s({msg:"No configuration filename specified in home page."})})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbGxlY3Rpb25zL2FydGljbGVzLmpzIiwiY29sbGVjdGlvbnMvdGltZWxpbmUuanMiLCJjb250cm9scy9MLkNvbnRyb2wuVGltZWxpbmUuanMiLCJjb250cm9sbGVycy9pc3N1ZS5qcyIsImNvbnRyb2xsZXJzL21hcC5qcyIsImNvbnRyb2xsZXJzL3Byb3RvdHlwZS5qcyIsIm1peGlucy9hc3luY0luaXQuanMiLCJtaXhpbnMvZG9td2F0Y2hlci5qcyIsIm1peGlucy9mZXRjaHhtbC5qcyIsIm1peGlucy94bWwyaHRtbC5qcyIsIm1vZGVscy9hcnRpY2xlLmpzIiwibW9kZWxzL2lzc3VlLmpzIiwibW9kZWxzL21hcC5qcyIsInJvdXRlcy9yb3V0ZXIuanMiLCJ2aWV3cy9hcHAuanMiLCJ2aWV3cy9hcnRpY2xlLmpzIiwidmlld3MvY2xlYXIuanMiLCJ2aWV3cy9pc3N1ZS5qcyIsInZpZXdzL21hcC5qcyIsInZpZXdzL21hcmtlci5qcyIsInZpZXdzL21lbnUuanMiLCJ2aWV3cy9wYWdlLmpzIiwidmlld3MvcGFydGlhbC5qcyIsImNvbnRyb2xsZXJzL21hcC9sYXllci5qcyIsImNvbnRyb2xsZXJzL21hcC9wYW4uanMiLCJtb2RlbHMvZXJyb3IvdXNlci5qcyIsInZpZXdzL2FydGljbGUvZ2FsbGVyeS5qcyIsInZpZXdzL2FydGljbGUvbWVudS5qcyIsInZpZXdzL2Vycm9yL3VzZXIuanMiLCJjb250cm9sbGVycy9tYXAvbGF5ZXIvcGxhY2V0eXBlLmpzIiwiY29udHJvbGxlcnMvbWFwL2xheWVyL3RpbWVsaW5lLmpzIiwibW9kZWxzL21hcC9sYXllci90aW1lbGluZS5qcyIsInZpZXdzL2FydGljbGUvZ2FsbGVyeS9saWdodGJveC5qcyIsInZpZXdzL2FydGljbGUvZ2FsbGVyeS9wb3BvdmVyLmpzIiwidmlld3MvYXJ0aWNsZS9nYWxsZXJ5L3NsaWRlcy5qcyIsInZpZXdzL21hcC9sYXllci90aW1lbGluZS5qcyIsIm1vZGVscy9tYXAvbGF5ZXIvdGltZWxpbmUvaXRlbS5qcyIsIm1haW4uanMiXSwibmFtZXMiOlsiZGVmaW5lIiwiJCIsIl8iLCJCYWNrYm9uZSIsIkFydGljbGVNb2RlbCIsIkFydGljbGVzQ29sbGVjdGlvbiIsIkNvbGxlY3Rpb24iLCJleHRlbmQiLCJtb2RlbCIsIlRpbWVsaW5lSXRlbU1vZGVsIiwiVGltZWxpbmVDb2xsZWN0aW9uIiwiTCIsImQzIiwiQ29udHJvbCIsIlRpbWVsaW5lIiwib3B0aW9ucyIsIm9yaWVudGF0aW9uIiwiaGVpZ2h0Iiwid2lkdGgiLCJtYXJnaW4iLCJsZWZ0IiwicmlnaHQiLCJ0b3AiLCJib3R0b20iLCJjb2xsYXBzZWQiLCJpdGVtIiwibWluSGVpZ2h0Iiwib24iLCJ0aXRsZSIsInBvc2l0aW9uIiwiaW5pdGlhbGl6ZSIsIm1hcCIsInNvdXJjZSIsInRoYXQiLCJ0aGlzIiwiVXRpbCIsInNldE9wdGlvbnMiLCJfbWFwIiwiX3NvdXJjZSIsImNvbnRhaW5lciIsIl9jb250YWluZXIiLCJEb21VdGlsIiwiY3JlYXRlIiwiYWRkQ2xhc3MiLCJ0b2dnbGUiLCJfdG9nZ2xlIiwibGluayIsImV4cGFuZCIsIl9leHBhbmQiLCJCcm93c2VyIiwidG91Y2giLCJEb21FdmVudCIsInN0b3AiLCJzdG9wUHJvcGFnYXRpb24iLCJkaXNhYmxlQ2xpY2tQcm9wYWdhdGlvbiIsIm9uUmVtb3ZlIiwib25BZGQiLCJfZXhwYW5kZWQiLCJfY29sbGFwc2UiLCJyZW1vdmVDbGFzcyIsIl90aW1lbGluZSIsImlubmVySGVpZ2h0IiwiaW5uZXJXaWR0aCIsInlTY2FsZSIsIl94U2NhbGUiLCJzY2FsZSIsImxpbmVhciIsInJhbmdlIiwiX3lTY2FsZSIsImRvbWFpbiIsInN0YXJ0IiwiZW5kIiwidGltZWxpbmUiLCJzZWxlY3QiLCJhcHBlbmQiLCJhdHRyIiwiYmFuZCIsImJydXNoIiwic2VsZWN0QWxsIiwiZGF0YSIsImdldEl0ZW1zIiwiZW50ZXIiLCJkIiwibWF4IiwiZHVyYXRpb24iLCJfYnJ1c2giLCJzdmciLCJ5IiwiZXh0U3RhcnQiLCJleHRlbnQiLCJleHRFbmQiLCJyZXN1bHRzIiwiY2xlYXIiLCJzZWxlY3RlZCIsImVhY2giLCJpIiwicHVzaCIsImJydXNoZW5kIiwieUJydXNoIiwiY2FsbCIsInlBeGlzIiwiYXhpcyIsIm9yaWVudCIsInRpY2tTaXplIiwidGlja1ZhbHVlcyIsInRpY2tGb3JtYXQiLCJjb2xsYXBzZSIsIm9mZiIsImNvbnRyb2wiLCJDb250cm9sbGVyIiwiQXN5bmNJbml0IiwiSXNzdWVWaWV3IiwiSXNzdWVNb2RlbCIsIklzc3VlQ29udHJvbGxlciIsInZpZXciLCJyb3V0ZXIiLCJhcmdzIiwiJGRlZiIsIkRlZmVycmVkIiwiY29uZmlnIiwicmVuZGVyIiwiaW5pdCIsImRvbmUiLCJmb3JFYWNoIiwiZ2V0IiwibW9kZWxzIiwiYXJ0aWNsZSIsImxpc3RlblRvIiwidXJsIiwibmF2aWdhdGUiLCJ0cmlnZ2VyIiwicmVuZGVyQXJ0aWNsZSIsInJlc29sdmUiLCJhbHdheXMiLCJyZWplY3QiLCJwcm90b3R5cGUiLCJNYXBNb2RlbCIsIk1hcFZpZXciLCJNYXBQYW5Db250cm9sbGVyIiwiTWFwTGF5ZXJDb250cm9sbGVyIiwiTWFwVGltZWxpbmVDb250cm9sbGVyIiwiTWFwQ29udHJvbGxlciIsImlzc3VlIiwibWFwUGFuQ29udHJvbGxlciIsIm1hcFRpbWVsaW5lQ29udHJvbGxlciIsIm1hcGNvbmZpZyIsImF0dHJpYnV0ZXMiLCJtYXBMYXllckNvbnRyb2xsZXIiLCJjb250cm9sc2NvbmZpZyIsImNvbnRyb2xzIiwibWFya2VyVmlld3MiLCJfcmVnaXN0ZXJNYXJrZXJzIiwiZml0TWFya2VyQm91bmRzIiwid2hlbiIsImFwcGx5IiwibWFya2VyVmlldyIsIm1hcFBvcHVwT3BlbiIsIm1hcmtlckxheWVyIiwibWFya2VyIiwiX2dldE1hcmtlckxheWVyIiwiaGFuZGxlUG9wdXBQb3NpdGlvbiIsImdldFBvcHVwIiwibWFwUG9wdXBUb2dnbGUiLCJldnQiLCJob3ZlclBvcHVwIiwib3BlbnBvcHVwIiwicG9wdXBpZCIsIm1hcE1hcmtlciIsImdldExhdExuZyIsIm9wZW5Qb3B1cCIsIm9iaiIsIm1ldGhvZCIsIm1hcE1hcmtlckxheWVyIiwibGF5ZXJzIiwiTGF5ZXJHcm91cCIsImdldExheWVycyIsInBvcCIsImhhcyIsInRhcmdldCIsInRvZ2dsZVBvcHVwIiwibWFwUG9wdXBDbG9zZSIsImNsb3NlUG9wdXAiLCJjaWQiLCJ1bmlxdWVJZCIsImFyZ3VtZW50cyIsIlJvdXRlciIsIkV2ZW50cyIsIkVycm9yIiwicHJvbWlzZSIsIkRPTVdhdGNoZXIiLCJ3YXRjaERPTSIsIm1zIiwic2VsIiwibGVuZ3RoIiwiZiIsImRvY3VtZW50IiwiYm9keSIsIndpbmRvdyIsInNldFRpbWVvdXQiLCJGZXRjaFhNTCIsImZldGNoWE1MIiwiJGdldCIsImFqYXgiLCJ0eXBlIiwiZGF0YVR5cGUiLCJzdWNjZXNzIiwiZXJyb3IiLCJqcVhIUiIsInRleHRTdGF0dXMiLCJlcnJvclRocm93biIsIlhNTDJIVE1MIiwiX2RvYyIsInhtbCIsInhtbERvYyIsIkRPTVBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsIkRvY3VtZW50IiwiaGFzT3duUHJvcGVydHkiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInhtbDJodG1sIiwieHNsIiwicGFyYW1zIiwibW9kZSIsInhzbERvYyIsInhzbHRQcm9jZXNzb3IiLCJYU0xUUHJvY2Vzc29yIiwiaW1wb3J0U3R5bGVzaGVldCIsImtleXMiLCJrZXkiLCJzZXRQYXJhbWV0ZXIiLCJyZXN1bHQiLCJkb2MiLCJ0cmFuc2Zvcm1Ub0RvY3VtZW50IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaW5kZXhPZiIsImRvY3VtZW50RWxlbWVudCIsInRleHRDb250ZW50IiwiaW5uZXJIVE1MIiwiZSIsInRvU3RyaW5nIiwiZ2VvSnNvblhzbCIsImNpdGVkUmFuZ2VYc2wiLCJVc2VyRXJyb3JNb2RlbCIsIlVzZXJFcnJvclZpZXciLCJNb2RlbCIsInNldCIsIl9ta0dlb2pzb24iLCJfbWtDaXRlZFJhbmdlIiwiZ2VvanNvbiIsInByb3BlcnRpZXMiLCJsYXllciIsImZhaWwiLCJtc2ciLCJkZWZhdWx0cyIsInBsYWNlVHlwZSIsImljb25VcmwiLCJjaXRlZFJhbmdlIiwiZ2V0R2VvanNvbiIsImpzb25TdHJpbmciLCJKU09OIiwicGFyc2UiLCJBcnRpY2xlQ29sbGVjdGlvbiIsImFydGRpciIsImFydGljbGVzIiwicGF0aEJhc2UiLCJtYXRjaCIsImZpbGVzIiwiY29sIiwidW5kZWZpbmVkIiwiZmlsZSIsImFydGljbGVpZCIsImFydGljbGVkaXIiLCJwYXRoIiwiaW5pdHMiLCJhZGQiLCJzZXRJY29ucyIsIiRwcm9taXNlIiwic3RhdGUiLCJpY2NvbmZpZyIsIm1hcmtlcnMiLCJpY29ucyIsImljb25GaWxlcyIsInNodWZmbGUiLCJmbGF0dGVuIiwiZW50cnkiLCJkaXIiLCJjb25jYXQiLCJkZWZhdWx0SWNvbkZpbGUiLCJnZXRBcnRpY2xlIiwiYXJ0IiwiYXQiLCJnZXRKU09OIiwianF4aHIiLCJjb25zb2xlIiwibG9nIiwiQ2xlYXJWaWV3IiwiTWVudVZpZXciLCJwYWdlcyIsImlzc3VlQ29udHJvbGxlciIsIm1hcENvbnRyb2xsZXIiLCJvcHRzIiwiaGlzdG9yeSIsImZyYWdtZW50IiwicGFnZSIsInBhZ2VDb25maWciLCJtYXBQYWdlIiwiaG9tZSIsInBjIiwidmlld05hbWUiLCJzdHJpbmdpZnkiLCJjb25mZyIsImxvY2F0aW9uIiwiaHJlZiIsImZ1bGwiLCJwYXJ0aWFsIiwicmVxdWlyZSIsIlZpZXciLCJ2IiwiaWQiLCJyZW1vdmUiLCJjaGlsZHJlbiIsIkFwcFZpZXciLCJlbCIsInJlc2l6ZSIsInJlbG9hZCIsIkdhbGxlcnlWaWV3IiwiQXJ0aWNsZVZpZXciLCIkZWwiLCJmaW5kIiwiaHRtbCIsImFydGljbGUtZGlyIiwiY2xpY2siLCJlbHQiLCJ0bXBsIiwiZW1wdHkiLCJ0ZW1wbGF0ZSIsIm1hcFBhcnRpYWwiLCJNYXJrZXJWaWV3IiwidGFnTmFtZSIsIl9pbml0TWFwIiwibWFya2VyVmlld0luaXRzIiwiTWFwIiwic2V0VmlldyIsIkxhdExuZyIsImxhdCIsImxuZyIsInpvb20iLCJUaWxlTGF5ZXIiLCJ0aWxlTGF5ZXIiLCJhZGRUbyIsIm12IiwibGVnZW5kUGFydGlhbCIsImluaXRNYXJrZXJMYXllciIsImljb25Db25maWciLCJmZWF0dXJlcyIsImljb24iLCJnZW9Kc29uIiwib25FYWNoRmVhdHVyZSIsImZlYXR1cmUiLCJwb3B1cCIsInNldENvbnRlbnQiLCJiaW5kUG9wdXAiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicG9pbnRUb0xheWVyIiwibGF0bG5nIiwiY2xpY2thYmxlIiwidGV4dCIsIm1hcmtlcm5hbWUiLCJvcGFjaXR5IiwicmlzZU9uSG92ZXIiLCJtZW51VG1wbCIsIkFydGljbGVNZW51VmlldyIsIml0ZW1zIiwibWVudSIsInByb21pc2VzIiwidGVtcGxhdGVzIiwiY29sbGVjdGlvbnMiLCJjb2xsZWN0aW9uIiwidGVtcGwiLCJjb250ZW50Iiwic29ydGVyIiwic3ViQ29udGVudCIsInNvcnRLZXlzIiwiaiIsIiRsaSIsInJlcGxhY2UiLCJhbXYiLCJFbGVtZW50Iiwibm9kZU5hbWUiLCJvdXRlckhUTUwiLCJjbG9uZSIsInNvcnQiLCJhIiwiYiIsImxvY2FsZUNvbXBhcmUiLCJsYWJlbCIsInRoZW4iLCIkZmFpbERlZiIsIlBhZ2VWaWV3IiwiUGFydGlhbFZpZXciLCIkd2F0Y2hEZWYiLCJQbGFjZVR5cGVDb250cm9sbGVyIiwiVGltZWxpbmVDb250cm9sbGVyIiwic3ViQ29udHJvbGxlcnMiLCJwbGFjZXR5cGUiLCJlbmFibGUiLCJ2aWV3cyIsInNpdGVjb25maWciLCJzdWJDb250cm9sbGVyIiwiX3VwZGF0ZU1hcmtlcnMiLCJzaG93IiwiaGlkZSIsInJlcyIsImdldEZpbHRlclN0YXRlIiwiZm91bmQiLCJoaWRkZW5MYXllciIsImFkZExheWVyIiwicmVtb3ZlTGF5ZXIiLCJfZml0TWFya2VyQm91bmRzIiwiZ2V0RWxlbWVudEJ5SWQiLCJlZGdlUHRYIiwiZ2V0Vmlld3BvcnRPZmZzZXQiLCJ4IiwiYm91bmRzIiwibGF0TG5nQm91bmRzIiwibG5nTGF0IiwiZ2VvbWV0cnkiLCJjb29yZGluYXRlcyIsInNsaWNlIiwibGF0TG5nIiwicmV2ZXJzZSIsImZpdEJvdW5kcyIsImdldFNpemUiLCJwYWRkaW5nQm90dG9tUmlnaHQiLCJjbGllbnRXaWR0aCIsImludmFsaWRhdGVTaXplIiwiJHBvcHVwV3JhcCIsInBvcHVwTGF0TG5nIiwicG9wdXBSaWdodFgiLCJwYWQiLCJnZXRDb250ZW50IiwiY2xvc2VzdCIsImZpcnN0IiwicG9pbnQiLCJhdXRvUGFuUGFkZGluZ0JvdHRvbVJpZ2h0IiwiYXV0b1BhblBhZGRpbmciLCJvZmZzZXQiLCJwYW5CeSIsImdldEJvdW5kcyIsImNvbnRhaW5zIiwiQXJ0aWNsZUdhbGxlcnlQb3BvdmVyVmlldyIsIkFydGljbGVHYWxsZXJ5TGlnaHRib3hWaWV3IiwiQXJ0aWNsZUdhbGxlcnlTbGlkZXNWaWV3IiwiQXJ0aWNsZUdhbGxlcnlWaWV3Iiwib3V0ZXJIZWlnaHQiLCJjc3MiLCJkZWZzIiwiaW1nIiwibG9hZCIsImFtWHNsIiwibWVudWl0ZW0iLCJtb2RhbCIsImtleWJvYXJkIiwiUGxhY2V0eXBlQ29udHJvbGxlciIsImxlZ2VuZFRlbXBsIiwibGF5ZXJNYXJrZXJzIiwiZ3JvdXBCeSIsImdldENvbnRhaW5lciIsIk9iamVjdCIsImxheWVyTmFtZSIsImtsYXNzIiwibGF5ZXJMZWdlbmQiLCJtYXJrZXJMYXllcnMiLCJsYXllckdyb3VwIiwiYWRkT3ZlcmxheSIsIl9vbklucHV0Q2xpY2siLCJpbnB1dCIsImlucHV0cyIsIl9mb3JtIiwiaW5wdXRzTGVuIiwiX2hhbmRsaW5nQ2xpY2siLCJfbGF5ZXJzIiwibGF5ZXJJZCIsImNoZWNrZWQiLCJfcmVmb2N1c09uTWFwIiwiVGltZWxpbmVWaWV3IiwiVGltZWxpbmVNb2RlbCIsIl9oYW5kbGVGaWx0ZXJFdmVudCIsInNob3dMYXllcnMiLCJoaWRlTGF5ZXJzIiwic2hvd0lkcyIsImZpbHRlciIsIlRpbWVsaW5lSXRlbSIsImJvb2tjb25maWciLCJib29rIiwiX2luaXRpYWxpemUiLCJib29rQ2hhcHRlciIsImZpbmRXaGVyZSIsImNoYXB0ZXJzIiwicGFydCIsImNoYXB0ZXIiLCJwYXJhZ3JhcGhzIiwicGFyYWdyYXBoIiwibWluIiwidmFsdWVzIiwicCIsImxpZ2h0Ym94VGl0bGVUZW1wbCIsIm1hZ25pZmljUG9wdXAiLCJnYWxsZXJ5IiwiZW5hYmxlZCIsImltYWdlIiwidGl0bGVTcmMiLCIkaXRlbSIsIiRwbyIsInBjdCIsInBvcG92ZXJUZW1wbCIsInBvcG92ZXJDb250ZW50VGVtcGwiLCJnZXRBdHRyaWJ1dGUiLCJwb3BvdmVyIiwicGxhY2VtZW50Iiwic2xpZGVzanMiLCJuYXZpZ2F0aW9uIiwiYWN0aXZlIiwiZWZmZWN0IiwicGFnaW5hdGlvbiIsImZhZGUiLCJzcGVlZCIsImNyb3NzZmFkZSIsImNhbGxiYWNrIiwibG9hZGVkIiwibnVtYmVyIiwiJGltZyIsInZpc2liaWxpdHkiLCJtYXhIZWlnaHQiLCJtYXhXaWR0aCIsInBhcnNlSW50IiwiY29tcGxldGUiLCJuZXdJbWciLCJ0aW1lbGluZUNvbnRyb2xQYXJ0aWFsIiwiX3RpbWVsaW5lQ29sbGFwc2UiLCJfaGFuZGxlRmlsdGVyIiwiY29udHJvbGhlaWdodCIsIm1hcGhlaWdodCIsImRvY3VtZW50aGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiTWF0aCIsImFicyIsImNvbXBhcmVUbyIsInBhdGhzIiwiYmFja2JvbmUiLCJib290c3RyYXAiLCJqcXVlcnkiLCJsZWFmbGV0IiwibGlnaHRib3giLCJ1bmRlcnNjb3JlIiwicGFydGlhbHMiLCJzaGltIiwiZGVwcyIsImV4cG9ydHMiLCJjb25maWdmaWxlIiwicm91dGVzIiwiZGVidWciXSwibWFwcGluZ3MiOiJBQUNBQSxPQUFPLHdCQUNILFNBQ0EsYUFDQSxXQUNBLGtCQUNELFNBQVNDLEVBQUVDLEVBQUVDLEVBQVNDLEdBQ3JCLFlBQ0EsSUFBSUMsR0FBcUJGLEVBQVNH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QU95SSxHQUM5QyxZQUNBLElBQUk4TyxHQUFhL2lCLEVBQUUsU0FBUzBFLEtBQUssY0FDN0JxZSxHQUNBL2lCLEVBQUVtUyxRQUFRNFEsRUFBWSxTQUFTeEosR0FDM0IsSUFDSSxHQUFJdEYsR0FDSixHQUFJekksSUFDRXdYLE9BQVF6SixFQUFXOUcsTUFBTXVRLE9BQ3pCMWIsT0FBUWlTLElBRWhCLE1BQU96SyxHQUNBeUssRUFBVzBKLE9BQ1osR0FBSTlULElBQ0E1TyxNQUFPLEdBQUkyTyxJQUNQVSxJQUFLZCxFQUFFQyxrQkFLeEJZLEtBQUssU0FBU3lDLEVBQU9yRixFQUFZRixHQUNoQyxHQUFJc0MsSUFDQTVPLE1BQU8sR0FBSTJPLElBQ1BVLElBQUssb0NBQXNDbVQsRUFBYSxLQUFPbFcsUUFLM0UsR0FBSXNDLElBQ0E1TyxNQUFPLEdBQUkyTyxJQUNQVSxJQUFLIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKmdsb2JhbCBkZWZpbmUgKi9cbmRlZmluZSgnY29sbGVjdGlvbnMvYXJ0aWNsZXMnLCBbXG4gICAgJ2pxdWVyeScsIFxuICAgICd1bmRlcnNjb3JlJywgXG4gICAgJ2JhY2tib25lJyxcbiAgICAnbW9kZWxzL2FydGljbGUnXG5dLCBmdW5jdGlvbigkLF8sQmFja2JvbmUsQXJ0aWNsZU1vZGVsKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBBcnRpY2xlc0NvbGxlY3Rpb24gPSBCYWNrYm9uZS5Db2xsZWN0aW9uLmV4dGVuZCh7XG4gICAgICAgIG1vZGVsOiBBcnRpY2xlTW9kZWxcbiAgICB9KTsgICAgXG4gICAgcmV0dXJuIEFydGljbGVzQ29sbGVjdGlvbjtcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lICovXG5kZWZpbmUoJ2NvbGxlY3Rpb25zL3RpbWVsaW5lJywgW1xuICAgICdqcXVlcnknLCBcbiAgICAndW5kZXJzY29yZScsIFxuICAgICdiYWNrYm9uZScsXG4gICAgJ21vZGVscy9tYXAvbGF5ZXIvdGltZWxpbmUvaXRlbSdcbl0sIGZ1bmN0aW9uKCQsXyxCYWNrYm9uZSxUaW1lbGluZUl0ZW1Nb2RlbCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgVGltZWxpbmVDb2xsZWN0aW9uID0gQmFja2JvbmUuQ29sbGVjdGlvbi5leHRlbmQoe1xuICAgICAgICBtb2RlbDogVGltZWxpbmVJdGVtTW9kZWxcbiAgICB9KTsgICAgXG4gICAgcmV0dXJuIFRpbWVsaW5lQ29sbGVjdGlvbjtcbn0pO1xuIiwiZGVmaW5lKCdjb250cm9scy9MLkNvbnRyb2wuVGltZWxpbmUnLCBbXG4gICAgICAnbGVhZmxldCdcbiAgICAsICdkMydcbl0sIGZ1bmN0aW9uIChMLGQzKSB7XG4gICAgaWYgKEwuQ29udHJvbC5UaW1lbGluZSkgcmV0dXJuIEw7XG4gICAgTC5Db250cm9sLlRpbWVsaW5lID0gTC5Db250cm9sLmV4dGVuZCh7XG4gICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uIDogJ2xlZnQnXG4gICAgICAgICAgICAgICwgaGVpZ2h0ICAgICAgOiA1MDBcbiAgICAgICAgICAgICAgLCB3aWR0aCAgICAgICA6IDEwMFxuICAgICAgICAgICAgICAsIG1hcmdpbiAgICAgIDogeyBsZWZ0OiAzLCByaWdodDogMywgdG9wOiAxMCwgYm90dG9tOiA1IH1cbiAgICAgICAgICAgICAgLCBjb2xsYXBzZWQgICA6IHRydWVcbiAgICAgICAgICAgICAgLCBpdGVtICAgICAgICA6IHttaW5IZWlnaHQ6MX1cbiAgICAgICAgICAgICAgLCBvbiAgICAgICAgICA6IG51bGxcbiAgICAgICAgICAgICAgLCB0aXRsZSAgICAgICA6ICdUaW1lbGluZSdcbiAgICAgICAgICAgICAgLCBwb3NpdGlvbiAgICA6ICd0b3BsZWZ0J1xuICAgICAgICB9XG4gICAgICAgICwgaW5pdGlhbGl6ZSA6IGZ1bmN0aW9uKG1hcCwgc291cmNlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICBMLlV0aWwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgICAgIHRoaXMuX3NvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLl9jb250YWluZXIgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCdsZWFmbGV0LWNvbnRyb2wtdGltZWxpbmUgbGVhZmxldC1jb250cm9sJyk7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNvbGxhcHNlZCkge1xuICAgICAgICAgICAgICAgIEwuRG9tVXRpbC5hZGRDbGFzcyhjb250YWluZXIsICdsZWFmbGV0LWNvbnRyb2wtdGltZWxpbmUtY29sbGFwc2VkJyk7XG4gICAgICAgICAgICAgICAgdmFyIHRvZ2dsZSA9IHRoaXMuX3RvZ2dsZSA9IEwuRG9tVXRpbC5jcmVhdGUoJ2EnLCAnbGVhZmxldC1jb250cm9sLXRpbWVsaW5lLXRvZ2dsZScsIGNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgdG9nZ2xlLnRpdGxlID0gdGhpcy5vcHRpb25zLnRpdGxlO1xuICAgICAgICAgICAgICAgIHRvZ2dsZS5saW5rID0gJyMnO1xuICAgICAgICAgICAgICAgIHZhciBleHBhbmQgPSBmdW5jdGlvbigpIHsgdGhhdC5fZXhwYW5kKCk7IH07XG4gICAgICAgICAgICAgICAgaWYgKEwuQnJvd3Nlci50b3VjaCkge1xuICAgICAgICAgICAgICAgICAgICBMLkRvbUV2ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAub24odG9nZ2xlLCAnY2xpY2snLCBMLkRvbUV2ZW50LnN0b3ApXG4gICAgICAgICAgICAgICAgICAgICAgICAub24odG9nZ2xlLCAnY2xpY2snLCBleHBhbmQsIHRoaXMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIEwuRG9tRXZlbnQub24odG9nZ2xlLCAnY2xpY2snLCBleHBhbmQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgTC5Eb21VdGlsLmFkZENsYXNzKGNvbnRhaW5lciwgJ2xlYWZsZXQtY29udHJvbC10aW1lbGluZS1leHBhbmRlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFMLkJyb3dzZXIudG91Y2gpIHtcbiAgICAgICAgICAgICAgICBMLkRvbUV2ZW50LmRpc2FibGVDbGlja1Byb3BhZ2F0aW9uKHRoaXMuX2NvbnRhaW5lcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIEwuRG9tRXZlbnQub24odGhpcy5fY29udGFpbmVyLCAnY2xpY2snLCBMLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgICAgICB9XG4gICAgICAgICwgb25SZW1vdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gZG8gYW55IGNsZWFudXAgaGVyZVxuICAgICAgICB9XG4gICAgICAgICwgb25BZGQ6IGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcbiAgICAgICAgfVxuICAgICAgICAsIF9leHBhbmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKHRoYXQuX2V4cGFuZGVkKSByZXR1cm47XG4gICAgICAgICAgICB0aGF0Ll9leHBhbmRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9tYXAub24oJ2NsaWNrJywgdGhpcy5fY29sbGFwc2UsIHRoaXMpO1xuXG4gICAgICAgICAgICBMLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fY29udGFpbmVyLCAnbGVhZmxldC1jb250cm9sLXRpbWVsaW5lLWNvbGxhcHNlZCcpO1xuICAgICAgICAgICAgTC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX2NvbnRhaW5lciwgJ2xlYWZsZXQtY29udHJvbC10aW1lbGluZS1leHBhbmRlZCcpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fdGltZWxpbmUpIHJldHVybjtcblxuICAgICAgICAgICAgdmFyIGlubmVySGVpZ2h0ID0gdGhpcy5vcHRpb25zLmhlaWdodCAtIHRoaXMub3B0aW9ucy5tYXJnaW4udG9wICAgLSB0aGlzLm9wdGlvbnMubWFyZ2luLmJvdHRvbTtcbiAgICAgICAgICAgIHZhciBpbm5lcldpZHRoICA9IHRoaXMub3B0aW9ucy53aWR0aCAgLSB0aGlzLm9wdGlvbnMubWFyZ2luLnJpZ2h0IC0gdGhpcy5vcHRpb25zLm1hcmdpbi5sZWZ0O1xuXG4gICAgICAgICAgICB2YXIgeFNjYWxlID0gdGhpcy5feFNjYWxlID0gZDMuc2NhbGUubGluZWFyKClcbiAgICAgICAgICAgICAgICAucmFuZ2UoWzAsaW5uZXJXaWR0aF0pO1xuXG4gICAgICAgICAgICB2YXIgeVNjYWxlID0gdGhpcy5feVNjYWxlID0gZDMuc2NhbGUubGluZWFyKClcbiAgICAgICAgICAgICAgICAuZG9tYWluKFt0aGlzLl9zb3VyY2Uuc3RhcnQsdGhpcy5fc291cmNlLmVuZF0pXG4gICAgICAgICAgICAgICAgLnJhbmdlKFswLGlubmVySGVpZ2h0XSk7XG5cbiAgICAgICAgICAgIHZhciB0aW1lbGluZSA9IHRoaXMuX3RpbWVsaW5lID0gZDMuc2VsZWN0KCcubGVhZmxldC1jb250cm9sLXRpbWVsaW5lJylcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCdzdmcnKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdpZCcsICd0aW1lbGluZScpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIHRoaXMub3B0aW9ucy5oZWlnaHQpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgdGhpcy5vcHRpb25zLndpZHRoKTtcblxuICAgICAgICAgICAgdmFyIGJhbmQgPSB0aW1lbGluZS5hcHBlbmQoJ2cnKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdpZCcsJ2JhbmQnKVxuICAgICAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIChpbm5lcldpZHRoLzIgLSB0aGlzLm9wdGlvbnMubWFyZ2luLnJpZ2h0KSlcbiAgICAgICAgICAgICAgICAuYXR0cignaGVpZ2h0JywgaW5uZXJIZWlnaHQpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsXG4gICAgICAgICAgICAgICAgICAgICAgJ3RyYW5zbGF0ZSgnICsgLjI1KmlubmVyV2lkdGggKyAnLCcgKyB0aGlzLm9wdGlvbnMubWFyZ2luLnRvcCArICAnKSdcbiAgICAgICAgICAgICAgICAgICAgKyAnIHNjYWxlKC43NSAxLjApJ1xuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHZhciBpdGVtcyA9IGJhbmQuc2VsZWN0QWxsKCdnJylcbiAgICAgICAgICAgICAgICAuZGF0YSh0aGlzLl9zb3VyY2UuZ2V0SXRlbXMoKSlcbiAgICAgICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ3JlY3QnKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsJ3RpbWVsaW5lLWl0ZW0nKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdoZWlnaHQnLCBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkMy5tYXgoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0Lm9wdGlvbnMuaXRlbS5taW5IZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgICAgICwgeVNjYWxlKGQuZHVyYXRpb24oKSlcbiAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuYXR0cignd2lkdGgnLGlubmVyV2lkdGgpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoMCwgJyArIHlTY2FsZShkLnN0YXJ0KSArICcpJztcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmFyIGJydXNoID0gdGhpcy5fYnJ1c2ggPSBkMy5zdmcuYnJ1c2goKVxuICAgICAgICAgICAgICAgIC55KHlTY2FsZSlcbiAgICAgICAgICAgICAgICAub24oJ2JydXNoZW5kJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBleHRTdGFydCA9IHlTY2FsZShicnVzaC5leHRlbnQoKVswXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBleHRFbmQgICA9IHlTY2FsZShicnVzaC5leHRlbnQoKVsxXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHRzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhcjogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICwgc2VsZWN0ZWQgOiBbXVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXh0U3RhcnQgIT09IGV4dEVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0KCcjYmFuZCcpLnNlbGVjdEFsbCgncmVjdC50aW1lbGluZS1pdGVtJykuZWFjaChmdW5jdGlvbihpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHlTY2FsZShpLnN0YXJ0KSA8PSBleHRFbmQpICYmICh5U2NhbGUoaS5lbmQpICAgPj0gZXh0U3RhcnQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnNlbGVjdGVkLnB1c2goaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMuY2xlYXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoYXQub3B0aW9ucy5vbi5icnVzaGVuZChyZXN1bHRzKTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgeUJydXNoID0gYmFuZC5hcHBlbmQoJ3N2ZycpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2lkJywnYnJ1c2gnKVxuICAgICAgICAgICAgICAgIC5jYWxsKGJydXNoKTtcbiAgICAgICAgICAgIHlCcnVzaC5zZWxlY3RBbGwoJ3JlY3QnKVxuICAgICAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsaW5uZXJXaWR0aCk7XG5cbiAgICAgICAgICAgIHZhciB5QXhpcyA9IHRpbWVsaW5lLmFwcGVuZCgnZycpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2lkJywnYXhpcycpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsJ3RyYW5zbGF0ZSgnICsgKCguMjUqaW5uZXJXaWR0aCkgLSB0aGlzLm9wdGlvbnMubWFyZ2luLmxlZnQpICsgJywnICsgdGhpcy5vcHRpb25zLm1hcmdpbi50b3AgKyAgJyknKTtcblxuICAgICAgICAgICAgdmFyIGF4aXMgPSBkMy5zdmcuYXhpcygpXG4gICAgICAgICAgICAgICAgLnNjYWxlKHlTY2FsZSlcbiAgICAgICAgICAgICAgICAub3JpZW50KHRoaXMub3B0aW9ucy5vcmllbnRhdGlvbilcbiAgICAgICAgICAgICAgICAudGlja1NpemUoNiwgMClcbiAgICAgICAgICAgICAgICAudGlja1ZhbHVlcyh0aGlzLl9zb3VyY2UudGlja1ZhbHVlcygpKVxuICAgICAgICAgICAgICAgIC50aWNrRm9ybWF0KGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhhdC5fc291cmNlLnRpY2tGb3JtYXQoaXRlbSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB5QXhpcy5jYWxsKGF4aXMpO1xuICAgICAgICB9XG4gICAgICAgICwgX2NvbGxhcHNlIDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2V4cGFuZGVkKSByZXR1cm47XG4gICAgICAgICAgICBpZiAgKHRoaXMub3B0aW9ucy5vbi5jb2xsYXBzZSB8fCB0eXBlb2YgdGhpcy5vcHRpb25zLm9uLmNvbGxhcHNlID09PSAnZnVuY3Rpb24nKSBcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMub24uY29sbGFwc2UoKTtcbiAgICAgICAgICAgIC8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpbWVsaW5lJykucmVtb3ZlKCk7XG4gICAgICAgICAgICB0aGlzLl9leHBhbmRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgTC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX2NvbnRhaW5lciwgJ2xlYWZsZXQtY29udHJvbC10aW1lbGluZS1jb2xsYXBzZWQnKTtcbiAgICAgICAgICAgIEwuRG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9jb250YWluZXIsICdsZWFmbGV0LWNvbnRyb2wtdGltZWxpbmUtZXhwYW5kZWQnKTtcbiAgICAgICAgICAgIHRoaXMuX21hcC5vZmYoJ2NsaWNrJywgdGhpcy5fY29sbGFwc2UsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgTC5jb250cm9sLnRpbWVsaW5lID0gZnVuY3Rpb24obWFwLHNvdXJjZSxvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgTC5Db250cm9sLlRpbWVsaW5lKG1hcCxzb3VyY2Usb3B0aW9ucyk7XG4gICAgfTtcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lKi9cbmRlZmluZSgnY29udHJvbGxlcnMvaXNzdWUnLCBbXG4gICAgICAnanF1ZXJ5J1xuICAgICwgJ3VuZGVyc2NvcmUnXG4gICAgLCAnYmFja2JvbmUnXG4gICAgLCAnY29udHJvbGxlcnMvcHJvdG90eXBlJ1xuICAgICwgJ21peGlucy9hc3luY0luaXQnXG4gICAgLCAndmlld3MvaXNzdWUnXG4gICAgLCAnbW9kZWxzL2lzc3VlJ1xuXSwgZnVuY3Rpb24oJCxfLEJhY2tib25lLENvbnRyb2xsZXIsQXN5bmNJbml0LElzc3VlVmlldyxJc3N1ZU1vZGVsKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBJc3N1ZUNvbnRyb2xsZXIgPSBDb250cm9sbGVyLmV4dGVuZCh7XG4gICAgICAgICAgbW9kZWw6IG51bGxcbiAgICAgICAgLCB2aWV3IDogbnVsbFxuICAgICAgICAsIHJvdXRlcjogbnVsbFxuICAgICAgICAsIGluaXRpYWxpemU6IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHRoYXQuJGRlZiA9ICQuRGVmZXJyZWQoKTtcbiAgICAgICAgICAgIHRoYXQucm91dGVyID0gYXJncy5yb3V0ZXI7XG4gICAgICAgICAgICB0aGF0Lm1vZGVsID0gbmV3IElzc3VlTW9kZWwoeyBjb25maWc6IGFyZ3MuY29uZmlnIH0pO1xuICAgICAgICAgICAgdGhhdC52aWV3ID0gbmV3IElzc3VlVmlldyh7XG4gICAgICAgICAgICAgICAgICBtb2RlbDogdGhhdC5tb2RlbFxuICAgICAgICAgICAgICAgICwgY29uZmlnOiBhcmdzLmNvbmZpZ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGF0LnZpZXcucmVuZGVyKCk7XG4gICAgICAgICAgICB0aGF0Lm1vZGVsLmluaXQoKS5kb25lKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF8uZm9yRWFjaCh0aGF0Lm1vZGVsLmdldCgnY29sbGVjdGlvbicpLm1vZGVscywgZnVuY3Rpb24oYXJ0aWNsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGF0Lmxpc3RlblRvKGFydGljbGUsICdhY3RpdmUnLCBmdW5jdGlvbihhcnRpY2xlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gJ2FydGljbGUvJyArIGFydGljbGUuZ2V0KCdhcnRpY2xlaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQucm91dGVyLm5hdmlnYXRlKHVybCwge3RyaWdnZXI6IHRydWV9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQudmlldy5yZW5kZXJBcnRpY2xlKGFydGljbGUpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGF0LiRkZWYucmVzb2x2ZSh0aGF0KTtcbiAgICAgICAgICAgIH0pLmFsd2F5cyhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGF0LiRkZWYucmVqZWN0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIF8uZXh0ZW5kKElzc3VlQ29udHJvbGxlci5wcm90b3R5cGUsQXN5bmNJbml0KTtcbiAgICByZXR1cm4gSXNzdWVDb250cm9sbGVyO1xufSk7XG4iLCIvKmdsb2JhbCBkZWZpbmUqL1xuZGVmaW5lKCdjb250cm9sbGVycy9tYXAnLCBbXG4gICAgICAnanF1ZXJ5J1xuICAgICwgJ3VuZGVyc2NvcmUnXG4gICAgLCAnYmFja2JvbmUnXG4gICAgLCAnY29udHJvbGxlcnMvcHJvdG90eXBlJ1xuICAgICwgJ21vZGVscy9tYXAnXG4gICAgLCAndmlld3MvbWFwJ1xuICAgICwgJ21peGlucy9hc3luY0luaXQnXG4gICAgLCAnY29udHJvbGxlcnMvbWFwL3BhbidcbiAgICAsICdjb250cm9sbGVycy9tYXAvbGF5ZXInXG5dLCBmdW5jdGlvbigkLF8sQmFja2JvbmUsQ29udHJvbGxlcixNYXBNb2RlbCxNYXBWaWV3LEFzeW5jSW5pdCxNYXBQYW5Db250cm9sbGVyLE1hcExheWVyQ29udHJvbGxlcixNYXBUaW1lbGluZUNvbnRyb2xsZXIpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIE1hcENvbnRyb2xsZXIgPSBDb250cm9sbGVyLmV4dGVuZCh7XG4gICAgICAgICAgbW9kZWw6IG51bGxcbiAgICAgICAgLCB2aWV3OiAgbnVsbFxuICAgICAgICAsIGlzc3VlOiBudWxsXG4gICAgICAgICwgY29uZmlnOiBudWxsXG4gICAgICAgICwgbWFwUGFuQ29udHJvbGxlciA6IG51bGxcbiAgICAgICAgLCBNYXBMYXllckNvbnRyb2xsZXIgOiBudWxsXG4gICAgICAgICwgbWFwVGltZWxpbmVDb250cm9sbGVyIDogbnVsbFxuICAgICAgICAsIGluaXRpYWxpemU6IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHRoYXQuJGRlZiA9ICQuRGVmZXJyZWQoKTtcbiAgICAgICAgICAgIHRoYXQuY29uZmlnID0gYXJncy5jb25maWc7XG4gICAgICAgICAgICB0aGF0LnJvdXRlciA9IGFyZ3Mucm91dGVyO1xuICAgICAgICAgICAgdGhhdC5pc3N1ZSA9IGFyZ3MuaXNzdWU7XG4gICAgICAgICAgICB0aGF0Lm1vZGVsID0gbmV3IE1hcE1vZGVsKGFyZ3MpO1xuICAgICAgICAgICAgdGhhdC52aWV3ID0gbmV3IE1hcFZpZXcoe1xuICAgICAgICAgICAgICAgICAgbW9kZWw6ICB0aGF0Lm1vZGVsXG4gICAgICAgICAgICAgICAgLCByb3V0ZXI6IHRoYXQucm91dGVyXG4gICAgICAgICAgICAgICAgLCBpc3N1ZTogdGhhdC5pc3N1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGF0LnZpZXcuaW5pdCgpLmRvbmUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5tYXBQYW5Db250cm9sbGVyID0gbmV3IE1hcFBhbkNvbnRyb2xsZXIoe1xuICAgICAgICAgICAgICAgICAgICAgIG1hcDogdGhhdC52aWV3Lm1hcFxuICAgICAgICAgICAgICAgICAgICAsIG1hcGNvbmZpZzogdGhhdC5tb2RlbC5hdHRyaWJ1dGVzLm1hcGNvbmZpZ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoYXQubWFwTGF5ZXJDb250cm9sbGVyID0gbmV3IE1hcExheWVyQ29udHJvbGxlcih7XG4gICAgICAgICAgICAgICAgICAgICAgdmlldyAgOiB0aGF0LnZpZXdcbiAgICAgICAgICAgICAgICAgICAgLCBtYXAgICA6IHRoYXQudmlldy5tYXBcbiAgICAgICAgICAgICAgICAgICAgLCBtb2RlbCA6IHRoYXQubW9kZWxcbiAgICAgICAgICAgICAgICAgICAgLCBtYXBjb25maWc6IHRoYXQubW9kZWwuYXR0cmlidXRlcy5tYXBjb25maWdcbiAgICAgICAgICAgICAgICAgICAgLCBjb250cm9sc2NvbmZpZzogdGhhdC5jb25maWcuY29udHJvbHNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGF0Lmxpc3RlblRvKHRoYXQudmlldywgJ21hcmtlcnMnLCBmdW5jdGlvbihtYXJrZXJWaWV3cyl7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuX3JlZ2lzdGVyTWFya2VycyhtYXJrZXJWaWV3cyk7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQubWFwUGFuQ29udHJvbGxlci5maXRNYXJrZXJCb3VuZHModGhhdC52aWV3Lm1hcmtlclZpZXdzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGF0LnZpZXcucmVuZGVyKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICQud2hlbi5hcHBseShudWxsLFt0aGF0Lm1vZGVsLmluaXQoKSwgdGhhdC52aWV3LmluaXQoKV0pLmRvbmUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhhdC4kZGVmLnJlc29sdmUodGhhdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAsIF9yZWdpc3Rlck1hcmtlcnMgOiBmdW5jdGlvbihtYXJrZXJWaWV3cykge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgXy5mb3JFYWNoKG1hcmtlclZpZXdzLCBmdW5jdGlvbihtYXJrZXJWaWV3KSB7XG4gICAgICAgICAgICAgICAgdGhhdC5saXN0ZW5UbyhtYXJrZXJWaWV3Lm1vZGVsLCAnYWN0aXZlJywgZnVuY3Rpb24oYXJ0aWNsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGF0Lm1hcFBvcHVwT3BlbihtYXJrZXJWaWV3Lm1hcmtlckxheWVyKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hcmtlciA9IHRoYXQuX2dldE1hcmtlckxheWVyKG1hcmtlclZpZXcubWFya2VyTGF5ZXIsICdnZXRQb3B1cCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWFya2VyICE9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5tYXBQYW5Db250cm9sbGVyLmhhbmRsZVBvcHVwUG9zaXRpb24obWFya2VyLmdldFBvcHVwKCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoYXQubGlzdGVuVG8obWFya2VyVmlldy5tb2RlbCwgJ3RvZ2dsZScsIGZ1bmN0aW9uKGFydGljbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5tYXBQb3B1cFRvZ2dsZShtYXJrZXJWaWV3Lm1hcmtlckxheWVyKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hcmtlciA9IHRoYXQuX2dldE1hcmtlckxheWVyKG1hcmtlclZpZXcubWFya2VyTGF5ZXIsICdnZXRQb3B1cCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWFya2VyICE9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5tYXBQYW5Db250cm9sbGVyLmhhbmRsZVBvcHVwUG9zaXRpb24obWFya2VyLmdldFBvcHVwKCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoYXQubGlzdGVuVG8obWFya2VyVmlldywgJ2NsaWNrJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQubWFwUG9wdXBPcGVuKGV2dCk7XG4gICAgICAgICAgICAgICAgICAgIG1hcmtlclZpZXcubW9kZWwudHJpZ2dlcignYWN0aXZlJywgbWFya2VyVmlldy5tb2RlbCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhhdC5saXN0ZW5UbyhtYXJrZXJWaWV3LCdtb3VzZW92ZXInLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGF0LnZpZXcubWFwLmhvdmVyUG9wdXApIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wZW5wb3B1cFtwb3B1cGlkKG1hcE1hcmtlci5nZXRMYXRMbmcoKSldKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIG1hcE1hcmtlci5vcGVuUG9wdXAoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgICwgX2dldE1hcmtlckxheWVyIDogZnVuY3Rpb24ob2JqLG1ldGhvZCkge1xuICAgICAgICAgICAgdmFyIG1hcE1hcmtlckxheWVyLCBsYXllcnM7XG4gICAgICAgICAgICBpZiAob2JqIGluc3RhbmNlb2YgTC5MYXllckdyb3VwKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1ldGhvZCBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICAgICAgbWFwTWFya2VyTGF5ZXIgPSBvYmo7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJzID0gb2JqLmdldExheWVycygpO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAob2JqID0gbGF5ZXJzLnBvcCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWV0aG9kIGluIG9iaikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcE1hcmtlckxheWVyID0gb2JqO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChfLmhhcyhvYmosICdvcmlnaW5hbEV2ZW50JykpIHtcbiAgICAgICAgICAgICAgICBtYXBNYXJrZXJMYXllciA9IG9iai50YXJnZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWFwTWFya2VyTGF5ZXI7XG4gICAgICAgIH1cbiAgICAgICAgLCBtYXBQb3B1cE9wZW46IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgdmFyIG1hcE1hcmtlckxheWVyID0gdGhpcy5fZ2V0TWFya2VyTGF5ZXIob2JqLCAnb3BlblBvcHVwJyk7XG4gICAgICAgICAgICBpZiAoIW1hcE1hcmtlckxheWVyKSByZXR1cm47XG4gICAgICAgICAgICBtYXBNYXJrZXJMYXllci5vcGVuUG9wdXAoKTtcbiAgICAgICAgfVxuICAgICAgICAsIG1hcFBvcHVwVG9nZ2xlOiBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICAgIHZhciBtYXBNYXJrZXJMYXllciA9IHRoaXMuX2dldE1hcmtlckxheWVyKG9iaiwgJ3RvZ2dsZVBvcHVwJyk7XG4gICAgICAgICAgICBpZiAoIW1hcE1hcmtlckxheWVyKSByZXR1cm47XG4gICAgICAgICAgICBtYXBNYXJrZXJMYXllci50b2dnbGVQb3B1cCgpO1xuICAgICAgICB9XG4gICAgICAgICwgbWFwUG9wdXBDbG9zZTogZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICB2YXIgbWFwTWFya2VyTGF5ZXIgPSB0aGlzLl9nZXRNYXJrZXJMYXllcihvYmosICdjbG9zZVBvcHVwJyk7XG4gICAgICAgICAgICBpZiAoIW1hcE1hcmtlckxheWVyKSByZXR1cm47XG4gICAgICAgICAgICBtYXBNYXJrZXJMYXllci5jbG9zZVBvcHVwKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBfLmV4dGVuZChNYXBDb250cm9sbGVyLnByb3RvdHlwZSxBc3luY0luaXQpO1xuICAgIHJldHVybiBNYXBDb250cm9sbGVyO1xufSk7XG4iLCIvKmdsb2JhbCBkZWZpbmUqL1xuZGVmaW5lKCdjb250cm9sbGVycy9wcm90b3R5cGUnLCBbXG4gICAgICAndW5kZXJzY29yZSdcbiAgICAsICdiYWNrYm9uZSdcbl0sIGZ1bmN0aW9uKF8sQmFja2JvbmUpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIENvbnRyb2xsZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5jaWQgPSBfLnVuaXF1ZUlkKCdjb250cm9sbGVyJyk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gICAgQ29udHJvbGxlci5leHRlbmQgPSBCYWNrYm9uZS5Sb3V0ZXIuZXh0ZW5kO1xuICAgIF8uZXh0ZW5kKENvbnRyb2xsZXIucHJvdG90eXBlLCBCYWNrYm9uZS5FdmVudHMpO1xuICAgIF8uZXh0ZW5kKENvbnRyb2xsZXIucHJvdG90eXBlLCB7IFxuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndW5pbXBsZW1lbnRlZCBpbml0aWFsaXplKCknKTtcbiAgICAgICAgfSBcbiAgICB9KTtcbiAgICByZXR1cm4gQ29udHJvbGxlcjtcbn0pOyIsIi8qZ2xvYmFsIGRlZmluZSAqL1xuZGVmaW5lKCdtaXhpbnMvYXN5bmNJbml0JywgW1xuICAgICdqcXVlcnknLFxuICAgICd1bmRlcnNjb3JlJ1xuXSwgZnVuY3Rpb24oJCxfKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBBc3luY0luaXQgPSB7XG4gICAgICAgICAgJGRlZjogbnVsbFxuICAgICAgICAsIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGRlZi5wcm9taXNlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBBc3luY0luaXQ7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSAqL1xuZGVmaW5lKCdtaXhpbnMvZG9td2F0Y2hlcicsIFtcbiAgICAnanF1ZXJ5JyBcbl0sIGZ1bmN0aW9uKCQpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIERPTVdhdGNoZXIgPSB7XG4gICAgICAgIHdhdGNoRE9NIDogZnVuY3Rpb24obXMsc2VsLCRkZWYpIHtcbiAgICAgICAgICAgIGlmICghc2VsKSB0aHJvdyBcIkVtcHR5IHNlbGVjdG9yIGluIHdhdGNoRE9NKClcIjtcbiAgICAgICAgICAgIGlmICgkKHNlbCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGYgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCQoc2VsKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKGRvY3VtZW50LmJvZHkpLm9mZignRE9NTm9kZUluc2VydGVkJywgZik7XG4gICAgICAgICAgICAgICAgICAgICAgICAkZGVmLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgJChkb2N1bWVudC5ib2R5KS5vbignRE9NTm9kZUluc2VydGVkJywgZik7XG4gICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICQoZG9jdW1lbnQuYm9keSkub2ZmKCdET01Ob2RlSW5zZXJ0ZWQnLCBmKTtcbiAgICAgICAgICAgICAgICAgICAgJGRlZi5yZWplY3QoKTtcbiAgICAgICAgICAgICAgICB9LCBtcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICRkZWYucmVzb2x2ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRE9NV2F0Y2hlcjtcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lICovXG5kZWZpbmUoJ21peGlucy9mZXRjaHhtbCcsIFtcbiAgICAnanF1ZXJ5J1xuXSwgZnVuY3Rpb24oJCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgRmV0Y2hYTUwgPSB7XG4gICAgICAgIC8vIHJldHVybiBhbiBvYmplY3QgaW1wbGVtZW50aW5nIHRoZSBQcm9taXNlIGludGVyZmFjZVxuICAgICAgICAvLyB3aGVuIHN1Y2Nlc3NmdWwsIHRoZSBQcm9taXNlIHJldHVybnMgdGhlIGRhdGEgZmV0Y2hlZFxuICAgICAgICAvLyBieSB0aGUgYWpheCByZXF1ZXN0XG4gICAgICAgIC8vIGRhdGEgcmV0dXJuZWQgYnkgdGhlIHByb21pc2UgaXMgYSBEb2N1bWVudFxuICAgICAgICBmZXRjaFhNTCA6IGZ1bmN0aW9uKHVybCkge1xuICAgICAgICAgICAgdmFyICRnZXQgPSAkLkRlZmVycmVkKCk7XG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICAgICAnR0VUJyxcbiAgICAgICAgICAgICAgICB1cmw6ICAgICAgdXJsLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAneG1sJyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAkZ2V0LnJlc29sdmUoZGF0YSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XG4gICAgICAgICAgICAgICAgICAgICRnZXQucmVqZWN0KHRleHRTdGF0dXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuICRnZXQucHJvbWlzZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRmV0Y2hYTUw7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSAqL1xuZGVmaW5lKCdtaXhpbnMveG1sMmh0bWwnLCBbXG4gICAgJ2pxdWVyeScsXG4gICAgJ3VuZGVyc2NvcmUnXG5dLCBmdW5jdGlvbigkLF8pIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIFhNTDJIVE1MID0ge1xuICAgICAgICBfZG9jOiBmdW5jdGlvbih4bWwpIHtcbiAgICAgICAgICAgIHZhciB4bWxEb2M7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHhtbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB4bWxEb2MgPSBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKHhtbCwndGV4dC94bWwnKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoeG1sIGluc3RhbmNlb2YgRG9jdW1lbnQpIHtcbiAgICAgICAgICAgICAgICB4bWxEb2MgPSB4bWw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVucmVjb2duaXplZCBkb2N1bWVudCBpbnB1dCBpbiBYTUwySFRNTFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh4bWxEb2MgPT0gbnVsbCB8fCAoIXhtbERvYy5oYXNPd25Qcm9wZXJ0eSgnZ2V0RWxlbWVudHNCeVRhZ05hbWUnKSAmJiB4bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3BhcnNlcmVycm9yJykubGVuZ3RoID4gMCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gcGFyc2UgZG9jdW1lbnQgaW4geG1sMmh0bWxcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geG1sRG9jO1xuICAgICAgICB9LFxuICAgICAgICAvLyByZXR1cm4gSFRNTCBvciBKU09OIHN0cmluZyBmcm9tIFhTTFQgdHJhbnNmb3JtYXRpb25cbiAgICAgICAgeG1sMmh0bWw6IGZ1bmN0aW9uKHhtbCx4c2wscGFyYW1zLG1vZGUpIHtcbiAgICAgICAgICAgIHZhciB4bWxEb2MgPSB0aGlzLl9kb2MoeG1sKSxcbiAgICAgICAgICAgICAgICB4c2xEb2MgPSB0aGlzLl9kb2MoeHNsKTtcbiAgICAgICAgICAgIHZhciB4c2x0UHJvY2Vzc29yID0gbmV3IFhTTFRQcm9jZXNzb3IoKTtcbiAgICAgICAgICAgIHhzbHRQcm9jZXNzb3IuaW1wb3J0U3R5bGVzaGVldCh4c2xEb2MpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJhbXMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgXy5lYWNoKF8ua2V5cyhwYXJhbXMpLCBmdW5jdGlvbihrZXkpe1xuICAgICAgICAgICAgICAgICAgICB4c2x0UHJvY2Vzc29yLnNldFBhcmFtZXRlcihudWxsLGtleSxwYXJhbXNba2V5XSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgZG9jID0geHNsdFByb2Nlc3Nvci50cmFuc2Zvcm1Ub0RvY3VtZW50KHhtbERvYyk7XG4gICAgICAgICAgICAgICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRmlyZWZveCcpICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vPHRyYW5zZm9ybWlpeDpyZXN1bHQ+Li4uPC90cmFuc2Zvcm1paXg6cmVzdWx0PlxuICAgICAgICAgICAgICAgICAgICBpZiAobW9kZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBkb2MuZG9jdW1lbnRFbGVtZW50LnRleHRDb250ZW50O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RlID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGRvYy5kb2N1bWVudEVsZW1lbnQudGV4dENvbnRlbnQ7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQgPSBkb2MuYm9keS5pbm5lckhUTUw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciBpbiBYU0xUIHRyYW5zZm9ybTogJyArIGUudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gWE1MMkhUTUw7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSAqL1xuZGVmaW5lKCdtb2RlbHMvYXJ0aWNsZScsIFtcbiAgICAgICdqcXVlcnknXG4gICAgLCAndW5kZXJzY29yZSdcbiAgICAsICdiYWNrYm9uZSdcbiAgICAsICdtaXhpbnMvZmV0Y2h4bWwnXG4gICAgLCAnbWl4aW5zL2FzeW5jSW5pdCdcbiAgICAsICdtaXhpbnMveG1sMmh0bWwnXG4gICAgLCAndGV4dCF4c2wvZ2VvanNvbi54c2wnXG4gICAgLCAndGV4dCF4c2wvY2l0ZWQtcmFuZ2UueHNsJ1xuICAgICwgJ21vZGVscy9lcnJvci91c2VyJ1xuICAgICwgJ3ZpZXdzL2Vycm9yL3VzZXInXG5dLCBmdW5jdGlvbigkLF8sQmFja2JvbmUsRmV0Y2hYTUwsQXN5bmNJbml0LFhNTDJIVE1MLGdlb0pzb25Yc2wsY2l0ZWRSYW5nZVhzbCxVc2VyRXJyb3JNb2RlbCxVc2VyRXJyb3JWaWV3KSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBBcnRpY2xlTW9kZWwgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe1xuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHRoYXQuJGRlZiA9ICQuRGVmZXJyZWQoKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyICRnZXQgPSB0aGF0LmZldGNoWE1MKHRoYXQuZ2V0KCdwYXRoJykpO1xuICAgICAgICAgICAgICAgICQud2hlbigkZ2V0KS5kb25lKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5zZXQoJ3htbCcsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB0aGF0Ll9ta0dlb2pzb24oKTtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5fbWtDaXRlZFJhbmdlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGF0Lmdlb2pzb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuc2V0KCdwbGFjZVR5cGUnLCB0aGF0Lmdlb2pzb24ucHJvcGVydGllcy5sYXllcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LiRkZWYucmVzb2x2ZSh0aGF0KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuJGRlZi5yZWplY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLmZhaWwoZnVuY3Rpb24odGV4dFN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICBuZXcgVXNlckVycm9yVmlldyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbDogbmV3IFVzZXJFcnJvck1vZGVsKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc2c6IFwiRXJyb3IgZW5jb3VudGVyZWQgaGFuZGxpbmcgeG1sIGZpbGUgYXQgJ1wiICsgdGhhdC5nZXQoJ3BhdGgnKSArIFwiJzogXCIgKyB0ZXh0U3RhdHVzXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB0aGF0LiRkZWYucmVqZWN0KCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdGhhdC4kZGVmLnJlamVjdCgpO1xuICAgICAgICAgICAgICAgIG5ldyBVc2VyRXJyb3JWaWV3KHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWw6IG5ldyBVc2VyRXJyb3JNb2RlbCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBtc2c6IGUudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgICAvL1RPRE86IGFkZCBhZGFwdGVyIGZvciBhY2Nlc3MgdGhyb3VnaCBtb2RlbCBhdHRyaWJ1dGVzXG4gICAgICAgICAgICAvLyBzbyB0aGF0IG1vZGVsIGlzbid0IHRpZWQgdG8gZW5jb2RpbmdcbiAgICAgICAgICAgICAgXCJ4bWxcIiAgICAgICA6IG51bGwgICAgLy8gRG9jdW1lbnRcbiAgICAgICAgICAgICwgXCJwbGFjZVR5cGVcIiA6IG51bGxcbiAgICAgICAgICAgICwgXCJpY29uVXJsXCIgICA6ICcnXG4gICAgICAgICAgICAsIFwiY2l0ZWRSYW5nZVwiOiB7fVxuICAgICAgICB9LFxuICAgICAgICBnZW9qc29uOiBudWxsLFxuICAgICAgICBnZXRHZW9qc29uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmdlb2pzb24gPT09IG51bGwpXG4gICAgICAgICAgICAgICAgdGhpcy5fbWtHZW9qc29uKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZW9qc29uO1xuICAgICAgICB9LFxuICAgICAgICBfbWtHZW9qc29uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIGpzb25TdHJpbmcgPSB0aGlzLnhtbDJodG1sKHRoaXMuZ2V0KCd4bWwnKSwgZ2VvSnNvblhzbCwge30sICd0ZXh0Jyk7XG4gICAgICAgICAgICAgICAgdGhpcy5nZW9qc29uID0gSlNPTi5wYXJzZShqc29uU3RyaW5nKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBuZXcgVXNlckVycm9yVmlldyh7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsOiBuZXcgVXNlckVycm9yTW9kZWwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbXNnOiBcIkZhaWxlZCB0byBwYXJzZSBnZW9qc29uIGdlbmVyYXRlZCBmcm9tICdcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmdldCgncGF0aCcpICsgXCInOiBcIiArIGUudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIF9ta0NpdGVkUmFuZ2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIganNvblN0cmluZyA9IHRoaXMueG1sMmh0bWwodGhpcy5nZXQoJ3htbCcpLCBjaXRlZFJhbmdlWHNsLCB7fSwgJ3RleHQnKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldCgnY2l0ZWRSYW5nZScsIEpTT04ucGFyc2UoanNvblN0cmluZykpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBwYXJzZSBjaXRlZCByYW5nZSBqc29uOiBcIiArIGUudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBfLmV4dGVuZChBcnRpY2xlTW9kZWwucHJvdG90eXBlLEZldGNoWE1MKTtcbiAgICBfLmV4dGVuZChBcnRpY2xlTW9kZWwucHJvdG90eXBlLEFzeW5jSW5pdCk7XG4gICAgXy5leHRlbmQoQXJ0aWNsZU1vZGVsLnByb3RvdHlwZSxYTUwySFRNTCk7XG4gICAgcmV0dXJuIEFydGljbGVNb2RlbDtcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lICovXG5kZWZpbmUoJ21vZGVscy9pc3N1ZScsIFtcbiAgICAgICdqcXVlcnknXG4gICAgLCAndW5kZXJzY29yZSdcbiAgICAsICdiYWNrYm9uZSdcbiAgICAsICdtb2RlbHMvYXJ0aWNsZSdcbiAgICAsICdjb2xsZWN0aW9ucy9hcnRpY2xlcydcbiAgICAsICdtaXhpbnMvYXN5bmNJbml0J1xuXSwgZnVuY3Rpb24oJCxfLEJhY2tib25lLEFydGljbGVNb2RlbCxBcnRpY2xlQ29sbGVjdGlvbixBc3luY0luaXQpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIElzc3VlTW9kZWwgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe1xuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCAgICA9IHRoaXM7XG4gICAgICAgICAgICB0aGF0LiRkZWYgICA9ICQuRGVmZXJyZWQoKTtcbiAgICAgICAgICAgIHZhciBhcnRkaXIgID0gYXJncy5jb25maWcuYXJ0aWNsZXMucGF0aEJhc2U7XG4gICAgICAgICAgICBpZiAoIWFydGRpci5tYXRjaCgvXFwvJC8pKSBhcnRkaXIgKz0gJy8nO1xuICAgICAgICAgICAgdmFyIGZpbGVzICAgPSBhcmdzLmNvbmZpZy5hcnRpY2xlcy5maWxlcztcbiAgICAgICAgICAgIHZhciBjb2wgICAgID0gbmV3IEFydGljbGVDb2xsZWN0aW9uKCk7XG4gICAgICAgICAgICB0aGF0LmNvbmZpZyA9IGFyZ3MuY29uZmlnO1xuICAgICAgICAgICAgdGhhdC5zZXQoJ2NvbGxlY3Rpb24nLCBjb2wpO1xuICAgICAgICAgICAgLy8gZml4IGxlbmd0aCBvZiBhcnRpY2xlcyBhcnJheVxuICAgICAgICAgICAgdmFyIGFydGljbGVzID0gXy5tYXAoXy5yYW5nZShmaWxlcy5sZW5ndGgpLCBmdW5jdGlvbigpe3JldHVybiB1bmRlZmluZWQ7fSk7XG4gICAgICAgICAgICAvLyBhcnRpY2xlcyBjb25zdHJ1Y3RlZCBzeW5jLCBzbyBhcnRpY2xlIG9iamVjdHMgYWRkZWQgdG8gbGlzdCBieSBpbmRleFxuICAgICAgICAgICAgXy5lYWNoKGZpbGVzLCBmdW5jdGlvbihmaWxlLGkpIHtcbiAgICAgICAgICAgICAgICBhcnRpY2xlc1tpXSA9IG5ldyBBcnRpY2xlTW9kZWwoe1xuICAgICAgICAgICAgICAgICAgICBhcnRpY2xlaWQ6ICBpLFxuICAgICAgICAgICAgICAgICAgICBhcnRpY2xlZGlyOiBhcnRkaXIsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6ICAgICAgIGFydGRpciArIGZpbGVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIGluaXRzID0gXy5tYXAoYXJ0aWNsZXMsIGZ1bmN0aW9uKGFydGljbGUpe3JldHVybiBhcnRpY2xlLmluaXQoKTt9KTtcbiAgICAgICAgICAgICQud2hlbi5hcHBseShudWxsLGluaXRzKS5kb25lKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGNvbC5hZGQoYXJ0aWNsZXMpO1xuICAgICAgICAgICAgICAgIHRoYXQuc2V0SWNvbnMoKTtcbiAgICAgICAgICAgICAgICB0aGF0LiRkZWYucmVzb2x2ZSh0aGF0KTtcbiAgICAgICAgICAgIH0pLmFsd2F5cyhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfLmZvckVhY2goaW5pdHMsIGZ1bmN0aW9uKCRwcm9taXNlKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRwcm9taXNlLnN0YXRlKCkgPT09ICdyZWplY3RlZCcpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LiRkZWYucmVqZWN0KCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhhdC4kZGVmLnJlamVjdCgpOyAvLyBub3QgcmUtc2V0IG9uIGZhaWx1cmVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIG1hcCBtYXJrZXIgaWNvbnMgZmlsZW5hbWUgdmFsdWVzIGFyZSBzZXQgaGVyZTsgaWNvbiBjb2xvcnMgYXJlIGFzc2lnbmVkXG4gICAgICAgIC8vIHJhbmRvbWx5LCBzbyB0byBzdXBwb3J0IGEgY29uc2lzdGVuY3kgYmV0d2VlbiB0aGUgY29sb3IgYW5kIHRoZSBwbGFjZS10eXBlXG4gICAgICAgIC8vIGxheWVyLCB0aGV5IG11c3QgYmUgYXNzaWduZWQgYXMgYSBncm91cFxuICAgICAgICAsIHNldEljb25zOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHZhciBpY2NvbmZpZyAgPSB0aGF0LmNvbmZpZy5tYXJrZXJzLmljb25zO1xuICAgICAgICAgICAgdmFyIGljb25GaWxlcyA9IF8uc2h1ZmZsZShfLmZsYXR0ZW4oXG4gICAgICAgICAgICAgICAgXy5tYXAoaWNjb25maWcsIGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfLm1hcChlbnRyeS5maWxlcywgZnVuY3Rpb24oZmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVudHJ5LmRpci5jb25jYXQoZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApKTtcbiAgICAgICAgICAgIHZhciBkZWZhdWx0SWNvbkZpbGUgPSBpY29uRmlsZXMucG9wKCk7XG4gICAgICAgICAgICB2YXIgaWNvbnMgPSBbXTtcbiAgICAgICAgICAgIC8vIGRvIG1hcCBtYXJrZXIgaWNvbiBpbml0aWFsaXphdGlvbjsgdGhpcyBzZWVtcyBsaWtlIGl0IHNob3VsZFxuICAgICAgICAgICAgLy8gYmUgaXNvbGF0ZWQgdG8gdGhlIE1hcFZpZXcgb3IgTWFya2VyVmlldywgYnV0IGlzIGRhdGEgdXNlZFxuICAgICAgICAgICAgLy8gZWxzZXdoZXJlIGluIHRoZSBhcHBsaWNhdGlvbiwgc28gdGhleSBhcmUgYXNzaWduZWQgaGVyZVxuICAgICAgICAgICAgdGhhdC5nZXQoJ2NvbGxlY3Rpb24nKS5mb3JFYWNoKGZ1bmN0aW9uKGFydGljbGUsaSkge1xuICAgICAgICAgICAgICAgIHZhciBnZW9qc29uID0gKGFydGljbGUuZ2V0R2VvanNvbigpIHx8IHtcInByb3BlcnRpZXNcIjp7fX0pO1xuICAgICAgICAgICAgICAgIHZhciBsYXllciA9IGdlb2pzb24ucHJvcGVydGllcy5sYXllcjtcbiAgICAgICAgICAgICAgICBpY29uc1tsYXllcl0gPSBpY29uc1tsYXllcl0gfHwgaWNvbkZpbGVzLnBvcCgpIHx8IGRlZmF1bHRJY29uRmlsZTtcbiAgICAgICAgICAgICAgICBhcnRpY2xlLnNldCgnaWNvblVybCcsIGljb25zW2xheWVyXSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZXR1cm4gYXJ0aWNsZSBvYmplY3QgY29ycmVzcG9uZGluZyB0byBhcmd1bWVudDtcbiAgICAgICAgLy8gYXJndW1lbnQgbWF5IGJlIGVpdGhlciBhbiBpbmRleCBpbnRvIHRoZSBjb2xsZWN0aW9uXG4gICAgICAgIC8vIChlLmcuLCB3aGVuIHByb3ZpZGVkIGJ5IGEgdXJsKSBvciBhbiBBcnRpY2xlTW9kZWxcbiAgICAgICAgLy8gKGUuZy4sIHdoZW4gc2VsZWN0ZWQgYnkgYSBtYXAgbWFya2VyKSBcbiAgICAgICAgLCBnZXRBcnRpY2xlOiBmdW5jdGlvbihhcnRpY2xlKSB7XG4gICAgICAgICAgICB2YXIgYXJ0O1xuICAgICAgICAgICAgdmFyIGNvbCA9IHRoaXMuZ2V0KCdjb2xsZWN0aW9uJyk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGFydGljbGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgYXJ0ID0gYXJ0aWNsZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFydGljbGUgPT09ICdudW1iZXInIHx8IHR5cGVvZiBhcnRpY2xlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGFydCA9IGNvbC5hdChhcnRpY2xlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhcnQ7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBfLmV4dGVuZChJc3N1ZU1vZGVsLnByb3RvdHlwZSxBc3luY0luaXQpO1xuICAgIHJldHVybiBJc3N1ZU1vZGVsO1xufSk7XG4iLCIvKmdsb2JhbCBkZWZpbmUgKi9cbmRlZmluZSgnbW9kZWxzL21hcCcsIFtcbiAgICAgICdqcXVlcnknXG4gICAgLCAndW5kZXJzY29yZSdcbiAgICAsICdiYWNrYm9uZSdcbiAgICAsICdtaXhpbnMvYXN5bmNJbml0J1xuXSwgZnVuY3Rpb24oJCxfLEJhY2tib25lLEFzeW5jSW5pdCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgTWFwTW9kZWwgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe1xuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCAgPSB0aGlzO1xuICAgICAgICAgICAgdGhhdC4kZGVmID0gJC5EZWZlcnJlZCgpO1xuICAgICAgICAgICAgJC5nZXRKU09OKGFyZ3MuY29uZmlnLm1hcC5jb25maWcsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB0aGF0LnNldCgnbWFwY29uZmlnJywgZGF0YSk7XG4gICAgICAgICAgICAgICAgdGhhdC4kZGVmLnJlc29sdmUodGhhdCk7XG4gICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uKGpxeGhyLCB0ZXh0U3RhdHVzLCBlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdGYWlsZWQgdG8gbG9hZCBtYXAgY29uZmlnIGZpbGU6ICcgKyBlcnJvcik7XG4gICAgICAgICAgICAgICAgdGhhdC4kZGVmLnJlamVjdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgICBcIm1hcGNvbmZpZ1wiIDoge31cbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICBfLmV4dGVuZChNYXBNb2RlbC5wcm90b3R5cGUsQXN5bmNJbml0KTtcbiAgICByZXR1cm4gTWFwTW9kZWw7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSAqL1xuZGVmaW5lKCdyb3V0ZXMvcm91dGVyJywgW1xuICAgICAgJ2pxdWVyeSdcbiAgICAsICd1bmRlcnNjb3JlJ1xuICAgICwgJ2JhY2tib25lJ1xuICAgICwgJ21vZGVscy9lcnJvci91c2VyJ1xuICAgICwgJ3ZpZXdzL2Vycm9yL3VzZXInXG4gICAgLCAndmlld3MvY2xlYXInXG4gICAgLCAnY29udHJvbGxlcnMvaXNzdWUnXG4gICAgLCAnY29udHJvbGxlcnMvbWFwJ1xuICAgICwgJ3ZpZXdzL21lbnUnXG5dLCBmdW5jdGlvbigkLF8sQmFja2JvbmUsVXNlckVycm9yTW9kZWwsVXNlckVycm9yVmlldyxDbGVhclZpZXcsSXNzdWVDb250cm9sbGVyLE1hcENvbnRyb2xsZXIsTWVudVZpZXcpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIFJvdXRlciA9IEJhY2tib25lLlJvdXRlci5leHRlbmQoe1xuICAgICAgICAgIHBhZ2VzICAgOiB7fSAgIC8vIGNvbmZpZyBmb3Igc3VwcG9ydGVkIHBhZ2VzXG4gICAgICAgICwgY29uZmlnICA6IHt9ICAgLy8gZ2xvYmFsIHNpdGUgY29uZmlndXJhdGlvbiwgaS5lLiwgc2l0ZS5qc29uXG4gICAgICAgICwgaXNzdWVDb250cm9sbGVyIDogbnVsbCAvLyBJc3N1ZU1vZGVsIGZvciB0aGlzIGFwcFxuICAgICAgICAsIG1hcENvbnRyb2xsZXIgICA6IG51bGxcbiAgICAgICAgLCBpbml0aWFsaXplOiBmdW5jdGlvbihvcHRzKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCAgICA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZyA9IG9wdHMuY29uZmlnO1xuICAgICAgICAgICAgdGhpcy5wYWdlcyAgPSBvcHRzLmNvbmZpZy5wYWdlcztcbiAgICAgICAgICAgIHRoaXMuaXNzdWVDb250cm9sbGVyID0gbmV3IElzc3VlQ29udHJvbGxlcih7XG4gICAgICAgICAgICAgICAgICByb3V0ZXI6IHRoaXNcbiAgICAgICAgICAgICAgICAsIGNvbmZpZzogdGhpcy5jb25maWcgXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuaXNzdWVDb250cm9sbGVyLmluaXQoKS5kb25lKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIC8vIHBhZ2VzLnJvdXRlci5oaXN0b3J5ID0gdHJ1ZSBieSBkZWZhdWx0LCBpZiBtaXNzaW5nXG4gICAgICAgICAgICAgICAgaWYgKF8uaGFzKHRoYXQucGFnZXMucm91dGVyLCdoaXN0b3J5JykgJiYgISF0aGF0LnBhZ2VzLnJvdXRlci5oaXN0b3J5KSB7XG4gICAgICAgICAgICAgICAgICAgIEJhY2tib25lLmhpc3Rvcnkuc3RhcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAsIG5hdmlnYXRlOiBmdW5jdGlvbihmcmFnbWVudCxvcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAoQmFja2JvbmUuaGlzdG9yeS5mcmFnbWVudCA9PT0gZnJhZ21lbnQpIHJldHVybjtcbiAgICAgICAgICAgIEJhY2tib25lLmhpc3RvcnkubmF2aWdhdGUoZnJhZ21lbnQsb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgLCBwYWdlOiBmdW5jdGlvbihwYWdlKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgcGFnZUNvbmZpZztcbiAgICAgICAgICAgIHZhciBtYXBQYWdlID0gZmFsc2U7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICghcGFnZSkgcGFnZSA9IHRoaXMucGFnZXMuaG9tZTtcbiAgICAgICAgICAgICAgICBwYWdlQ29uZmlnID0gdGhpcy5wYWdlcy5wYWdlc1twYWdlXTtcbiAgICAgICAgICAgICAgICBpZiAocGFnZUNvbmZpZyA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgY29uZmlnIGluIHJvdXRlci9wYWdlJyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFnZSgnNDA0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXcgQ2xlYXJWaWV3KCkucmVuZGVyKCk7XG4gICAgICAgICAgICBfLmVhY2gocGFnZUNvbmZpZywgZnVuY3Rpb24ocGMpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmlld05hbWU7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uZmlnOiB0aGF0LmNvbmZpZ1xuICAgICAgICAgICAgICAgICAgICAsIGlzc3VlOiAgdGhhdC5pc3N1ZUNvbnRyb2xsZXIubW9kZWxcbiAgICAgICAgICAgICAgICAgICAgLCByb3V0ZXI6IHRoYXRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIGNsb25lIGNvbmZpZyB0byBhdm9pZCBnbG9iYWwgY2hhbmdlc1xuICAgICAgICAgICAgICAgIHZhciBjb25maWcgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHBjKSk7XG4gICAgICAgICAgICAgICAgaWYgKF8uaGFzKGNvbmZpZywgJ3ZpZXcnKSkge1xuICAgICAgICAgICAgICAgICAgICB2aWV3TmFtZSA9IGNvbmZpZy52aWV3O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXy5oYXMoY29uZmlnLCAncGFydGlhbCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpZXdOYW1lID0gJ3ZpZXdzL3BhcnRpYWwnO1xuICAgICAgICAgICAgICAgICAgICBjb25maWcucGFydGlhbC5wYWdlID0gdGhhdC5wYWdlcy5wYXRoQmFzZSArIGNvbmZpZy5wYXJ0aWFsLnBhZ2U7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3MgPSBfLmV4dGVuZChhcmdzLGNvbmZpZy5wYXJ0aWFsKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF8uaGFzKGNvbmZnLCAnZnVsbCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gY29uZmlnLmZ1bGwucGFnZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgcGFnZSB0eXBlIGluIHJvdXRlcjogJyArIHBhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodmlld05hbWUgPT09ICd2aWV3cy9tYXAnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQubWFwQ29udHJvbGxlciA9IG5ldyBNYXBDb250cm9sbGVyKGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICBtYXBQYWdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXF1aXJlKFt2aWV3TmFtZV0sIGZ1bmN0aW9uKFZpZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2ID0gbmV3IFZpZXcoYXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2LnJlbmRlcigpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghbWFwUGFnZSkgdGhhdC5tYXBDb250cm9sbGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAsIGFydGljbGUgOiBmdW5jdGlvbihpZCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSB7XG4gICAgICAgICAgICAgICAgICBjb25maWc6IHRoYXQuY29uZmlnXG4gICAgICAgICAgICAgICAgLCBpc3N1ZTogIHRoYXQuaXNzdWVDb250cm9sbGVyLm1vZGVsXG4gICAgICAgICAgICAgICAgLCByb3V0ZXI6IHRoYXRcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoJCgnI3RpdGxlcGFnZScpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAkKCcjdGl0bGVwYWdlJykucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoJCgnI3BhZ2UnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgJCgnI3BhZ2UnKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGF0Lm1hcENvbnRyb2xsZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGF0Lm1hcENvbnRyb2xsZXIgPSBuZXcgTWFwQ29udHJvbGxlcihhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgkKCcjbWVudScpLmNoaWxkcmVuKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgbmV3IE1lbnVWaWV3KGFyZ3MpLnJlbmRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gc2VsZWN0IHRoZSBhcnRpY2xlIGluZGljYXRlZCBieSB0aGUgdXJsJ3Mgcm91dGUgb25seSBhZnRlclxuICAgICAgICAgICAgLy8gdGhlIG1hcCBoYXMgaW5pdGlhbGl6ZWRcbiAgICAgICAgICAgIHRoYXQubWFwQ29udHJvbGxlci5pbml0KCkuZG9uZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJ0aWNsZSA9IHRoYXQuaXNzdWVDb250cm9sbGVyLm1vZGVsLmdldEFydGljbGUoaWQpOyBcbiAgICAgICAgICAgICAgICBhcnRpY2xlLnRyaWdnZXIoJ2FjdGl2ZScsIGFydGljbGUpO1xuICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBSb3V0ZXI7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSAqL1xuZGVmaW5lKCd2aWV3cy9hcHAnLCBbXG4gICAgJ2pxdWVyeScsXG4gICAgJ3VuZGVyc2NvcmUnLFxuICAgICdiYWNrYm9uZSdcbl0sIGZ1bmN0aW9uKCQsXyxCYWNrYm9uZSkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgc2lnbmFsID0ge307XG4gICAgdmFyIEFwcFZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgICAgIGVsOiAnYm9keScsXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIEFwcFZpZXc7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSovXG5kZWZpbmUoJ3ZpZXdzL2FydGljbGUnLCBbXG4gICAgICAnanF1ZXJ5J1xuICAgICwgJ3VuZGVyc2NvcmUnXG4gICAgLCAnYmFja2JvbmUnXG4gICAgLCAndmlld3MvYXJ0aWNsZS9nYWxsZXJ5J1xuICAgICwgJ21peGlucy94bWwyaHRtbCdcbiAgICAsICd0ZXh0IXhzbC9hcnRpY2xlLnhzbCdcbl0sIGZ1bmN0aW9uKCQsXyxCYWNrYm9uZSxHYWxsZXJ5VmlldyxYTUwySFRNTCx4c2wpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIEFydGljbGVWaWV3ID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAgICAgICBpZDogJ2FydGljbGUnLFxuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB0aGF0LmNvbmZpZyA9IGFyZ3MuY29uZmlnO1xuICAgICAgICB9LFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHRoYXQuJGVsID0gJCgnIycgKyB0aGF0LmlkKTtcbiAgICAgICAgICAgIGlmICh0aGF0LiRlbC5maW5kKCcjJyArIHRoYXQubW9kZWwuY2lkKS5sZW5ndGggIT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdmFyIGh0bWwgPSB0aGlzLnhtbDJodG1sKFxuICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuZ2V0KCd4bWwnKSwgeHNsLCBcbiAgICAgICAgICAgICAgICB7XCJhcnRpY2xlLWRpclwiOiB0aGF0LmNvbmZpZy5hcnRpY2xlcy5wYXRoQmFzZVxuICAgICAgICAgICAgICAgICwgXCJpY29uVXJsXCIgICAgOiB0aGF0Lm1vZGVsLmdldCgnaWNvblVybCcpXG4gICAgICAgICAgICAgICAgLCBcImNpZFwiICAgICAgICA6IHRoYXQubW9kZWwuY2lkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgJCgnLmFydGljbGUtY29udGVudCcpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICQoJyMnK3RoaXMuaWQpLmFwcGVuZChodG1sKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImFydGljbGUgbG9hZCBlcnJvcjogXCIgKyBlLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCAkKCdpbWcuc2xpZGVzanMtc2xpZGUnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgbmV3IEdhbGxlcnlWaWV3KCkucmVuZGVyKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQoJyNmb290ZXInKS5yZW1vdmUoKVxuICAgICAgICAgICAgICAgICQoJ2FydGljbGUnKS5yZW1vdmVDbGFzcygnYmVmb3JlLWZvb3RlcicpLmFkZENsYXNzKCduby1mb290ZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoYXQuJGVsLmZpbmQoJy5hcnRpY2xlLW1hcmtlcicpLmNsaWNrKGZ1bmN0aW9uKGksZWx0KSB7XG4gICAgICAgICAgICAgICAgdGhhdC5tb2RlbC50cmlnZ2VyKCd0b2dnbGUnLCB0aGF0Lm1vZGVsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoYXQ7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24oKSB7IC8qIHJldGFpbiAqL30sXG4gICAgfSk7XG4gICAgXy5leHRlbmQoQXJ0aWNsZVZpZXcucHJvdG90eXBlLFhNTDJIVE1MKTtcbiAgICByZXR1cm4gQXJ0aWNsZVZpZXc7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSovXG5kZWZpbmUoJ3ZpZXdzL2NsZWFyJywgW1xuICAgICdqcXVlcnknLFxuICAgICd1bmRlcnNjb3JlJyxcbiAgICAnYmFja2JvbmUnXG5dLCBmdW5jdGlvbigkLF8sQmFja2JvbmUsdG1wbCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgQ2xlYXJWaWV3ID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAgICAgICBlbDogJ2JvZHknLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCgnYm9keScpLmVtcHR5KCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gQ2xlYXJWaWV3O1xufSk7XG4iLCIvKmdsb2JhbCBkZWZpbmUqL1xuZGVmaW5lKCd2aWV3cy9pc3N1ZScsIFtcbiAgICAgICdqcXVlcnknXG4gICAgLCAndW5kZXJzY29yZSdcbiAgICAsICdiYWNrYm9uZSdcbiAgICAsICd0ZXh0IXBhcnRpYWxzL2lzc3VlLmh0bWwnXG4gICAgLCAndmlld3MvYXJ0aWNsZSdcbl0sIGZ1bmN0aW9uKCQsXyxCYWNrYm9uZSx0bXBsLEFydGljbGVWaWV3KSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBJc3N1ZVZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgICAgIGVsOiAgICAgICAgICcjaXNzdWUnLFxuICAgICAgICB0ZW1wbGF0ZTogICBfLnRlbXBsYXRlKHRtcGwpLFxuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB0aGF0LmNvbmZpZyA9IGFyZ3MuY29uZmlnO1xuICAgICAgICB9LFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuJGVsLnJlbW92ZSgpO1xuICAgICAgICAgICAgJCgnYm9keScpLmFwcGVuZCh0bXBsKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVuZGVyQXJ0aWNsZTogZnVuY3Rpb24oYXJ0aWNsZSkge1xuICAgICAgICAgICAgbmV3IEFydGljbGVWaWV3KHtcbiAgICAgICAgICAgICAgICAgIG1vZGVsOiAgYXJ0aWNsZVxuICAgICAgICAgICAgICAgICwgY29uZmlnOiB0aGlzLm1vZGVsLmNvbmZpZ1xuICAgICAgICAgICAgICAgICwgaXNzdWU6ICB0aGlzXG4gICAgICAgICAgICAgICAgLCByb3V0ZXI6IHRoaXMubW9kZWwucm91dGVyXG4gICAgICAgICAgICB9KS5yZW5kZXIoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBJc3N1ZVZpZXc7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSovXG5kZWZpbmUoJ3ZpZXdzL21hcCcsIFtcbiAgICAgICdqcXVlcnknXG4gICAgLCAndW5kZXJzY29yZSdcbiAgICAsICdiYWNrYm9uZSdcbiAgICAsICdsZWFmbGV0J1xuICAgICwgJ3RleHQhcGFydGlhbHMvbWFwLmh0bWwnXG4gICAgLCAndmlld3MvbWFya2VyJ1xuICAgICwgJ21peGlucy9hc3luY0luaXQnXG4gICAgLCAnbW9kZWxzL2Vycm9yL3VzZXInXG4gICAgLCAndmlld3MvZXJyb3IvdXNlcidcbl0sIGZ1bmN0aW9uKCQsXyxCYWNrYm9uZSxMLG1hcFBhcnRpYWwsTWFya2VyVmlldyxBc3luY0luaXQsVXNlckVycm9yTW9kZWwsVXNlckVycm9yVmlldykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgTWFwVmlldyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgICAgICAgICBpZDogICAgICAnbWFwJ1xuICAgICAgICAsIHRhZ05hbWU6ICdkaXYnXG4gICAgICAgICwgbWFya2VyVmlld3M6IFtdIC8vIHN1YnZpZXdzXG4gICAgICAgICwgbWFwY29uZmlnOiB7fVxuICAgICAgICAsIGluaXRpYWxpemU6IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHRoYXQuJGRlZiA9ICQuRGVmZXJyZWQoKTtcbiAgICAgICAgICAgIHRoYXQubW9kZWwgPSBhcmdzLm1vZGVsO1xuICAgICAgICAgICAgdGhhdC5pc3N1ZSA9IGFyZ3MuaXNzdWU7XG4gICAgICAgICAgICAkLndoZW4uYXBwbHkoe30sW3RoYXQuaXNzdWUuaW5pdCgpLCB0aGF0Lm1vZGVsLmluaXQoKV0pLmRvbmUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5tYXBjb25maWcgPSB0aGF0Lm1vZGVsLmdldCgnbWFwY29uZmlnJyk7XG4gICAgICAgICAgICAgICAgaWYgKCQoJyMnICsgdGhpcy5pZCkubGVuZ3RoID4gMCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmICgkKCcjJyArIHRoaXMuaWQpLmNoaWxkcmVuKCkubGVuZ3RoID4gMCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuX2luaXRNYXAoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoYXQubWFya2VyVmlld3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXJrZXJWaWV3SW5pdHMgPSBfLm1hcCh0aGF0Lm1hcmtlclZpZXdzLCBmdW5jdGlvbihpKSB7IGkuJGRlZiB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQud2hlbi5hcHBseSh7fSwgbWFya2VyVmlld0luaXRzKS5kb25lKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC4kZGVmLnJlc29sdmUodGhhdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFwidW5kZWZpbmVkIG1hcmtlciB2aWV3cy5cIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3IFVzZXJFcnJvclZpZXcoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWw6IG5ldyBVc2VyRXJyb3JNb2RlbCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnOiBlLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLCBfaW5pdE1hcCA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKCQoJyMnICsgdGhpcy5pZCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgJCgnYm9keScpLmFwcGVuZChtYXBQYXJ0aWFsKTtcbiAgICAgICAgICAgICAgICB0aGF0Lm1hcCA9IG5ldyBMLk1hcCh0aGF0Lm1hcGNvbmZpZy5pZCwgdGhhdC5tYXBjb25maWcubWFwKTtcbiAgICAgICAgICAgICAgICBpZiAodGhhdC5tYXBjb25maWcudmlldykge1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5tYXAuc2V0VmlldyhcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBMLkxhdExuZyh0aGF0Lm1hcGNvbmZpZy52aWV3LmxhdCwgdGhhdC5tYXBjb25maWcudmlldy5sbmcpXG4gICAgICAgICAgICAgICAgICAgICAgLCB0aGF0Lm1hcGNvbmZpZy52aWV3Lnpvb21cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3IFVzZXJFcnJvclZpZXcoe21vZGVsOiBuZXcgVXNlckVycm9yTW9kZWwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbXNnOiAnTGVhZmxldCByZXBvcnRzIGJhZCBkYXRhIGluIG1hcC5qc29uIGZpbGUuICcgKyBlLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgfSl9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV3IEwuVGlsZUxheWVyKHRoYXQubWFwY29uZmlnLnRpbGVMYXllci51cmwsIHRoYXQubWFwY29uZmlnLnRpbGVMYXllci5vcHRzKS5hZGRUbyh0aGF0Lm1hcCk7XG4gICAgICAgICAgICAgICAgbmV3IEwuY29udHJvbC5zY2FsZSh0aGF0Lm1hcGNvbmZpZy5zY2FsZSkuYWRkVG8odGhhdC5tYXApOyAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB0aGF0Lm1hcmtlclZpZXdzID0gXy5tYXAodGhhdC5pc3N1ZS5nZXQoJ2NvbGxlY3Rpb24nKS5tb2RlbHMsIGZ1bmN0aW9uKGFydGljbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBNYXJrZXJWaWV3KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwgICAgIDogYXJ0aWNsZVxuICAgICAgICAgICAgICAgICAgICAgICAgLCBtYXAgICAgICAgOiB0aGF0Lm1hcFxuICAgICAgICAgICAgICAgICAgICAgICAgLCBtYXBjb25maWcgOiB0aGF0Lm1hcGNvbmZpZ1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAsIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB0aGF0Ll9pbml0TWFwKCk7XG4gICAgICAgICAgICBfLmZvckVhY2godGhhdC5tYXJrZXJWaWV3cywgZnVuY3Rpb24obXYpIHsgbXYucmVuZGVyKCkgfSk7XG4gICAgICAgICAgICB0aGF0LnRyaWdnZXIoJ21hcmtlcnMnLCB0aGF0Lm1hcmtlclZpZXdzKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIF8uZXh0ZW5kKE1hcFZpZXcucHJvdG90eXBlLEFzeW5jSW5pdCk7XG4gICAgcmV0dXJuIE1hcFZpZXc7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSovXG5kZWZpbmUoJ3ZpZXdzL21hcmtlcicsIFtcbiAgICAgICdqcXVlcnknXG4gICAgLCAndW5kZXJzY29yZSdcbiAgICAsICdiYWNrYm9uZSdcbiAgICAsICdtb2RlbHMvZXJyb3IvdXNlcidcbiAgICAsICd2aWV3cy9lcnJvci91c2VyJ1xuICAgICwgJ3RleHQhcGFydGlhbHMvbWFya2VyLmh0bWwnXG4gICAgLCAndGV4dCFwYXJ0aWFscy9tYXJrZXItbGVnZW5kLmh0bWwnXG4gICAgLCAnbWl4aW5zL2FzeW5jSW5pdCdcbl0sIGZ1bmN0aW9uKCQsXyxCYWNrYm9uZSxVc2VyRXJyb3JNb2RlbCxVc2VyRXJyb3JWaWV3LHRtcGwsbGVnZW5kUGFydGlhbCxBc3luY0luaXQpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIE1hcmtlclZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgICAgICAgdGVtcGxhdGU6IF8udGVtcGxhdGUodG1wbClcbiAgICAgICAgLCBlbDogJydcbiAgICAgICAgLCBtYXJrZXJMYXllcjogbnVsbFxuICAgICAgICAsIG1hcDogbnVsbFxuICAgICAgICAsIG1hcGNvbmZpZzogbnVsbFxuICAgICAgICAsIGluaXRpYWxpemU6IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHRoYXQuJGRlZiA9ICQuRGVmZXJyZWQoKTtcbiAgICAgICAgICAgIHRoYXQubWFwID0gYXJncy5tYXA7XG4gICAgICAgICAgICB0aGF0Lm1hcGNvbmZpZyA9IGFyZ3MubWFwY29uZmlnO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGF0LmluaXRNYXJrZXJMYXllcigpO1xuICAgICAgICAgICAgICAgIGlmICh0aGF0Lm1hcmtlckxheWVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuJGRlZi5yZXNvbHZlKHRoYXQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IFwiRmFpbGVkIHRvIGluaXRpYWxpemUgbWFya2VyIGxheWVyLlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIG5ldyBVc2VyRXJyb3JWaWV3KHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWw6IG5ldyBVc2VyRXJyb3JNb2RlbCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBtc2c6IGUudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLCBpbml0TWFya2VyTGF5ZXIgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ICAgID0gdGhpcztcbiAgICAgICAgICAgIHZhciBnZW9qc29uID0gdGhpcy5tb2RlbC5nZXRHZW9qc29uKCk7XG4gICAgICAgICAgICB2YXIgaWNvbkNvbmZpZyA9IHRoYXQubWFwY29uZmlnLmZlYXR1cmVzLmljb247XG4gICAgICAgICAgICBpY29uQ29uZmlnLmljb25VcmwgPSAodGhpcy5tb2RlbC5nZXQoJ2ljb25VcmwnKSB8fCAnJyk7XG4gICAgICAgICAgICB2YXIgaWNvbiA9IEwuaWNvbihpY29uQ29uZmlnKTtcbiAgICAgICAgICAgIHRoYXQubWFya2VyTGF5ZXIgPSBMLmdlb0pzb24oZ2VvanNvbiwge1xuICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGZ1bmN0aW9uIChmZWF0dXJlLCBtYXBNYXJrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIHRoZSBwb3B1cCB0byB0aGlzIG1hcmtlclxuICAgICAgICAgICAgICAgICAgICB2YXIgcG9wdXAgPSBMLnBvcHVwKHRoYXQubWFwY29uZmlnLmZlYXR1cmVzLnBvcHVwKTtcbiAgICAgICAgICAgICAgICAgICAgcG9wdXAuc2V0Q29udGVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQudGVtcGxhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFydGljbGVpZDogIHRoYXQubW9kZWwuZ2V0KCdhcnRpY2xlaWQnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW9qc29uOiAgICB0aGF0Lm1vZGVsLmdldEdlb2pzb24oKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgbWFwTWFya2VyLmJpbmRQb3B1cChwb3B1cCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGNsaWNrIGhhbmRsZXIgZm9yIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBtYXJrZXIsIHdoaWNoIHdvdWxkIGNsb3NlIHRoZSBwb3B1cCBpZiBpdFxuICAgICAgICAgICAgICAgICAgICAvLyB3ZXJlIGFscmVhZHkgb3BlblxuICAgICAgICAgICAgICAgICAgICBtYXBNYXJrZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snKTtcbiAgICAgICAgICAgICAgICAgICAgbWFwTWFya2VyLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC50cmlnZ2VyKCdjbGljaycsIGV2dCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBtYXBNYXJrZXIub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC50cmlnZ2VyKCdtb3VzZW92ZXInLCBldnQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHBvaW50VG9MYXllcjogZnVuY3Rpb24gKGZlYXR1cmUsIGxhdGxuZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTC5tYXJrZXIobGF0bG5nLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGljb24gICAgICAgIDogaWNvblxuICAgICAgICAgICAgICAgICAgICAgICAgLCBjbGlja2FibGUgICA6ICEhZmVhdHVyZS5wcm9wZXJ0aWVzLnRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICwgdGl0bGUgICAgICAgOiAoZmVhdHVyZS5wcm9wZXJ0aWVzLm1hcmtlcm5hbWUgfHwgJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAsIG9wYWNpdHkgICAgIDogdGhhdC5tYXBjb25maWcuZmVhdHVyZXMub3BhY2l0eVxuICAgICAgICAgICAgICAgICAgICAgICAgLCByaXNlT25Ib3ZlciA6IHRoYXQubWFwY29uZmlnLmZlYXR1cmVzLnJpc2VPbkhvdmVyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgICwgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWFya2VyTGF5ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXJrZXJMYXllci5hZGRUbyh0aGlzLm1hcCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFydGljbGUgPSB0aGF0Lm1vZGVsLmdldCgncGF0aCcpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBcIm1hcCBtYXJrZXIgbGF5ZXIgaXMgdW5kZWZpbmVkIGZvciBhcnRpY2xlICdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhcnRpY2xlICsgXCInLiBDaGVjayBsYXQvbG5nIHZhbHVlcyBpbiBmaWxlLlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIG5ldyBVc2VyRXJyb3JWaWV3KHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWw6IG5ldyBVc2VyRXJyb3JNb2RlbCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBtc2c6IFwiRXJyb3IgYWRkaW5nIG1hcmtlciBsYXllcjogXCIgKyBlLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgXy5leHRlbmQoTWFya2VyVmlldy5wcm90b3R5cGUsQXN5bmNJbml0KTtcbiAgICByZXR1cm4gTWFya2VyVmlldztcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lKi9cbmRlZmluZSgndmlld3MvbWVudScsIFtcbiAgICAgICdqcXVlcnknXG4gICAgLCAndW5kZXJzY29yZSdcbiAgICAsICdiYWNrYm9uZSdcbiAgICAsICd0ZXh0IXBhcnRpYWxzL21lbnUuaHRtbCdcbiAgICAsICdtaXhpbnMvZG9td2F0Y2hlcidcbiAgICAsICd2aWV3cy9hcnRpY2xlL21lbnUnXG5dLCBmdW5jdGlvbigkLF8sQmFja2JvbmUsbWVudVRtcGwsRE9NV2F0Y2hlcixBcnRpY2xlTWVudVZpZXcpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIE1lbnVWaWV3ID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAgICAgICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZShtZW51VG1wbCksXG4gICAgICAgICAgaWQ6ICAgICAgJ21lbnUnXG4gICAgICAgICwgdGFnTmFtZTogJ2RpdidcbiAgICAgICAgLCBpc3N1ZTogICBudWxsXG4gICAgICAgICwgY29uZmlnOiAge31cbiAgICAgICAgLCBpbml0aWFsaXplOiBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZyA9IGFyZ3MuY29uZmlnO1xuICAgICAgICAgICAgdGhpcy5pc3N1ZSAgPSBhcmdzLmlzc3VlO1xuICAgICAgICB9LFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKCQoJyMnICsgdGhhdC5pZCkuY2hpbGRyZW4oKS5sZW5ndGggIT09IDApIHJldHVybjtcbiAgICAgICAgICAgIHZhciBpdGVtcyA9IHRoaXMuY29uZmlnLm1lbnU7XG4gICAgICAgICAgICAvLyByZW5kZXIgZWFjaCBpdGVtIGZyb20gdGhlIGNvbmZpZyBmaWxlIHRvIGEgPGxpPlxuICAgICAgICAgICAgLy8gbXVzdCBiZSBkb25lIGFzeW5jIGR1ZSB0byByZXRyaWV2YWwgb2YgcGFydGlhbCBmaWxlc1xuICAgICAgICAgICAgdmFyIHByb21pc2VzID0gW107XG4gICAgICAgICAgICAgLy8gY2FjaGUgb2YgdGVtcGxhdGUgc3RyaW5nczogdXJsID0+IHRlbXBsXG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVzID0ge307XG4gICAgICAgICAgICB2YXIgY29sbGVjdGlvbnMgPSB7fTtcbiAgICAgICAgICAgIF8uZWFjaChpdGVtcywgZnVuY3Rpb24oaXRlbSl7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVzW2l0ZW0ucGFydGlhbF0gPSAnJztcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnbWVudScpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBpdGVtLmNvbGxlY3Rpb24gPT09IFwiY29sbGVjdGlvbnMvYXJ0aWNsZXNcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbnNbaXRlbS5jb2xsZWN0aW9uXSA9IHRoYXQuaXNzdWUuZ2V0KCdjb2xsZWN0aW9uJyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmhhbmRsZWQgY29sbGVjdGlvbiB0eXBlIHJlcXVlc3RlZDogXCIgKyBpdGVtLmNvbGxlY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfLmVhY2goXy5rZXlzKHRlbXBsYXRlcyksIGZ1bmN0aW9uKHVybCkge1xuICAgICAgICAgICAgICAgIHZhciAkZGVmID0gJC5EZWZlcnJlZCgpO1xuICAgICAgICAgICAgICAgIHJlcXVpcmUoWyd0ZXh0IScgKyB1cmxdLCBmdW5jdGlvbih0ZW1wbCkge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZXNbdXJsXSA9IF8udGVtcGxhdGUodGVtcGwpO1xuICAgICAgICAgICAgICAgICAgICAkZGVmLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKCRkZWYucHJvbWlzZSgpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gcmVuZGVyIHRoZSBtZW51IGFzIGEgPGRpdj5cbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gJyc7XG4gICAgICAgICAgICAkLndoZW4uYXBwbHkoJCwgcHJvbWlzZXMpLmRvbmUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKGl0ZW1zLCBmdW5jdGlvbihpdGVtLGkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IGl0ZW0ucGFydGlhbDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNvcnRlciA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3ViQ29udGVudCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc29ydEtleXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ3BhZ2UnIHx8IGl0ZW0udHlwZSA9PT0gJ3NlcCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgKz0gKHRlbXBsYXRlc1t1cmxdKShpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICdtZW51Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbnNbaXRlbS5jb2xsZWN0aW9uXS5tb2RlbHMuZm9yRWFjaChmdW5jdGlvbihtb2RlbCxqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhyZWYgICAgPSBpdGVtLml0ZW0uaHJlZi5yZXBsYWNlKCc6aScsIGopO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbXYgICAgID0gbmV3IEFydGljbGVNZW51Vmlldyh7bW9kZWw6bW9kZWx9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ICA9IGFtdi5yZW5kZXIoe2hyZWY6ICcjJyArIGhyZWZ9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGxpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5lZWQgYW4gPGxpPiBlbGVtZW50IGhlcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGxpID0gJChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0IGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lm5vZGVOYW1lID09PSAnQk9EWScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsaSA9ICQocmVzdWx0LmlubmVySFRNTCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0Lm5vZGVOYW1lID09PSAnTEknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbGkgPSAkKHJlc3VsdC5vdXRlckhUTUwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCBkb2N1bWVudCBlbGVtZW50IGZvciBzdWJtZW51OiAnICsgcmVzdWx0LnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCByZXN1bHQgdHlwZSBmb3Igc3VibWVudTogJyArIHJlc3VsdC50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRsaS5hdHRyKCdkYXRhLXNvcnQta2V5JykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ydGVyWyRsaS5hdHRyKCdkYXRhLXNvcnQta2V5JyldID0gJGxpLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ydGVyWyRsaS5maW5kKCdhJykudGV4dCgpXSA9ICRsaS5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgc29ydEtleXMgPSBfLmtleXMoc29ydGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRLZXlzLnNvcnQoZnVuY3Rpb24oYSxiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEubG9jYWxlQ29tcGFyZShiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgXy5lYWNoKHNvcnRLZXlzLCBmdW5jdGlvbihrZXkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YkNvbnRlbnQgKz0gc29ydGVyW2tleV1bMF0ub3V0ZXJIVE1MO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ICs9ICh0ZW1wbGF0ZXNbdXJsXSkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBpdGVtLmxhYmVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBzdWJDb250ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKCcjJyArIHRoYXQuaWQpLmVtcHR5KCkuYXBwZW5kKHRoYXQudGVtcGxhdGUoe2NvbnRlbnQ6IGNvbnRlbnR9KSk7XG4gICAgICAgICAgICAgICAgLy8gY29uZmlybSB0aGF0IHRoZSBtZW51IGhhcyBsb2FkZWRcbiAgICAgICAgICAgICAgICB2YXIgJGZhaWxEZWYgPSAkLkRlZmVycmVkKCk7XG4gICAgICAgICAgICAgICAgJGZhaWxEZWYuZmFpbChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICB0aGF0LnJlbmRlcigpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoYXQud2F0Y2hET00oNTAwLCAnIycgKyB0aGF0LmlkLCAkZmFpbERlZik7XG4gICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBidWlsZCBtZW51LlwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgXy5leHRlbmQoTWVudVZpZXcucHJvdG90eXBlLERPTVdhdGNoZXIpO1xuICAgIHJldHVybiBNZW51Vmlldztcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lKi9cbmRlZmluZSgndmlld3MvcGFnZScsIFtcbiAgICAnanF1ZXJ5JywgXG4gICAgJ3VuZGVyc2NvcmUnLCBcbiAgICAnYmFja2JvbmUnLFxuICAgICdtaXhpbnMvZG9td2F0Y2hlcicsXG4gICAgJ3RleHQhcGFydGlhbHMvcGFnZS5odG1sJ1xuXSwgZnVuY3Rpb24oJCxfLEJhY2tib25lLERPTVdhdGNoZXIscGFnZSkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgUGFnZVZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgICAgIGVsOiAnYm9keScsXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgdmFyICRkZWYgPSAkLkRlZmVycmVkKCk7XG4gICAgICAgICAgICAkZGVmLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCh0aGF0LmVsKS5hcHBlbmQocGFnZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMud2F0Y2hET00oMTAwMCx0aGF0LmVsLCRkZWYpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgXy5leHRlbmQoUGFnZVZpZXcucHJvdG90eXBlLERPTVdhdGNoZXIpO1xuICAgIHJldHVybiBQYWdlVmlldztcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lKi9cbmRlZmluZSgndmlld3MvcGFydGlhbCcsIFtcbiAgICAgICdqcXVlcnknXG4gICAgLCAndW5kZXJzY29yZSdcbiAgICAsICdiYWNrYm9uZSdcbiAgICAsICdtaXhpbnMvZG9td2F0Y2hlcidcbiAgICAsICdtaXhpbnMvYXN5bmNJbml0J1xuXSwgZnVuY3Rpb24oJCxfLEJhY2tib25lLERPTVdhdGNoZXIsQXN5bmNJbml0KSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBQYXJ0aWFsVmlldyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgICAgICAgZWw6ICcnLFxuICAgICAgICBwYWdlOiAnJyxcbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0cykge1xuICAgICAgICAgICAgdmFyIHRoYXQgID0gdGhpcztcbiAgICAgICAgICAgIHRoYXQuZWwgICA9IG9wdHMuZWw7XG4gICAgICAgICAgICB0aGF0LiRkZWYgPSAkLkRlZmVycmVkKCk7XG4gICAgICAgICAgICByZXF1aXJlKFsndGV4dCEnICsgb3B0cy5wYWdlXSwgZnVuY3Rpb24oaHRtbCkge1xuICAgICAgICAgICAgICAgIHRoYXQucGFnZSA9IGh0bWw7XG4gICAgICAgICAgICAgICAgdGhhdC4kZGVmLnJlc29sdmUodGhhdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgJHdhdGNoRGVmID0gJC5EZWZlcnJlZCgpO1xuICAgICAgICAgICAgdGhhdC5pbml0KCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKHRoYXQuZWwpLmFwcGVuZCh0aGF0LnBhZ2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLndhdGNoRE9NKDEwMDAsdGhhdC5lbCwkd2F0Y2hEZWYpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgXy5leHRlbmQoUGFydGlhbFZpZXcucHJvdG90eXBlLERPTVdhdGNoZXIpO1xuICAgIF8uZXh0ZW5kKFBhcnRpYWxWaWV3LnByb3RvdHlwZSxBc3luY0luaXQpO1xuICAgIHJldHVybiBQYXJ0aWFsVmlldztcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lKi9cbmRlZmluZSgnY29udHJvbGxlcnMvbWFwL2xheWVyJywgW1xuICAgICAgJ2pxdWVyeSdcbiAgICAsICd1bmRlcnNjb3JlJ1xuICAgICwgJ2JhY2tib25lJ1xuICAgICwgJ2NvbnRyb2xsZXJzL3Byb3RvdHlwZSdcbiAgICAsICdjb250cm9sbGVycy9tYXAvbGF5ZXIvcGxhY2V0eXBlJ1xuICAgICwgJ2NvbnRyb2xsZXJzL21hcC9sYXllci90aW1lbGluZSdcbl0sIGZ1bmN0aW9uKCQsXyxCYWNrYm9uZSxDb250cm9sbGVyLFBsYWNlVHlwZUNvbnRyb2xsZXIsVGltZWxpbmVDb250cm9sbGVyKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBNYXBMYXllckNvbnRyb2xsZXIgPSBDb250cm9sbGVyLmV4dGVuZCh7XG4gICAgICAgICAgdmlldyAgIDogbnVsbFxuICAgICAgICAsIHJvdXRlciA6IG51bGxcbiAgICAgICAgLCBtYXAgICAgOiBudWxsXG4gICAgICAgICwgY29udHJvbHNjb25maWcgOiBudWxsXG4gICAgICAgICwgaW5pdGlhbGl6ZTogZnVuY3Rpb24oYXJncykge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgdGhhdC5tYXAgPSBhcmdzLm1hcDtcbiAgICAgICAgICAgIHRoYXQudmlldyA9IGFyZ3MudmlldztcbiAgICAgICAgICAgIHRoYXQubW9kZWwgPSBhcmdzLm1vZGVsO1xuICAgICAgICAgICAgdGhhdC5jb250cm9sc2NvbmZpZyA9IGFyZ3MuY29udHJvbHNjb25maWc7XG4gICAgICAgICAgICB0aGF0LnN1YkNvbnRyb2xsZXJzID0gW107XG4gICAgICAgICAgICBpZiAoXy5oYXModGhhdC5jb250cm9sc2NvbmZpZywgJ3BsYWNldHlwZScpICYmIHRoYXQuY29udHJvbHNjb25maWcucGxhY2V0eXBlLmVuYWJsZSkge1xuICAgICAgICAgICAgICAgIHRoYXQuc3ViQ29udHJvbGxlcnMucHVzaChuZXcgUGxhY2VUeXBlQ29udHJvbGxlcih7XG4gICAgICAgICAgICAgICAgICAgICAgdmlld3MgOiB0aGF0LnZpZXcubWFya2VyVmlld3NcbiAgICAgICAgICAgICAgICAgICAgLCBtYXAgICA6IHRoYXQudmlldy5tYXBcbiAgICAgICAgICAgICAgICAgICAgLCBtYXBjb25maWc6IHRoYXQubW9kZWwuYXR0cmlidXRlcy5tYXBjb25maWdcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXy5oYXModGhhdC5jb250cm9sc2NvbmZpZywgJ3RpbWVsaW5lJykgJiYgdGhhdC5jb250cm9sc2NvbmZpZy50aW1lbGluZS5lbmFibGUpIHtcbiAgICAgICAgICAgICAgICB0aGF0LnN1YkNvbnRyb2xsZXJzLnB1c2gobmV3IFRpbWVsaW5lQ29udHJvbGxlcih7XG4gICAgICAgICAgICAgICAgICAgICAgbWFya2VyVmlld3MgOiB0aGF0LnZpZXcubWFya2VyVmlld3NcbiAgICAgICAgICAgICAgICAgICAgLCBtYXAgICAgICAgICA6IHRoYXQudmlldy5tYXBcbiAgICAgICAgICAgICAgICAgICAgLCBzaXRlY29uZmlnICA6IHRoYXQubW9kZWwuYXR0cmlidXRlcy5jb25maWdcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfLmZvckVhY2godGhhdC5zdWJDb250cm9sbGVycywgZnVuY3Rpb24oc3ViQ29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgIHRoYXQubGlzdGVuVG8oc3ViQ29udHJvbGxlciwgJ2ZpbHRlcicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGF0Ll91cGRhdGVNYXJrZXJzKClcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIGZpbHRlciB0aGUgdmlzaWJsZSBtYXAgbWFya2VycyBiYXNlZCBvbiB0aGUgcGxhY2V0eXBlIGFuZCB0aGVcbiAgICAgICAgLy8gdGltZWxpbmUgbGF5ZXIgY29udHJvbHM7IHRoZSBcImhpZGVcIiBzdGF0ZSB0YWtlcyBwcmVjZWRlbmNlIGlmXG4gICAgICAgIC8vIHRoZSBjb250cm9scyBkaXNhZ3JlZSAoaS5lLiwgYSBtYXJrZXIgdGhhdCBpcyBoaWRkZW4gb24gYW55XG4gICAgICAgIC8vIGNvbnRyb2wgaXMgaGlkZGVuIG9uIHRoZSBtYXApXG4gICAgICAgICwgX3VwZGF0ZU1hcmtlcnM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIHNob3cgPSBbXSwgaGlkZSA9IFtdO1xuICAgICAgICAgICAgXy5mb3JFYWNoKHRoYXQuc3ViQ29udHJvbGxlcnMsIGZ1bmN0aW9uKHN1YkNvbnRyb2xsZXIpe1xuICAgICAgICAgICAgICAgIHZhciByZXMgPSBzdWJDb250cm9sbGVyLmdldEZpbHRlclN0YXRlKCk7XG4gICAgICAgICAgICAgICAgaGlkZS5wdXNoKHJlcy5oaWRlKVxuICAgICAgICAgICAgICAgIGhpZGUgPSBfLmZsYXR0ZW4oaGlkZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF8uZm9yRWFjaCh0aGF0LnZpZXcubWFya2VyVmlld3MsIGZ1bmN0aW9uKG1hcmtlclZpZXcpIHtcbiAgICAgICAgICAgICAgICB2YXIgZm91bmQgPSBfLmZpbmQoaGlkZSwgZnVuY3Rpb24oaGlkZGVuTGF5ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaGlkZGVuTGF5ZXIgPT09IG1hcmtlclZpZXcubWFya2VyTGF5ZXJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoIWZvdW5kKVxuICAgICAgICAgICAgICAgICAgICBzaG93LnB1c2gobWFya2VyVmlldy5tYXJrZXJMYXllcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF8uZm9yRWFjaChzaG93LCBmdW5jdGlvbihtYXJrZXJMYXllcikge1xuICAgICAgICAgICAgICAgIHRoYXQudmlldy5tYXAuYWRkTGF5ZXIobWFya2VyTGF5ZXIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfLmZvckVhY2goaGlkZSwgZnVuY3Rpb24obWFya2VyTGF5ZXIpIHtcbiAgICAgICAgICAgICAgICB0aGF0LnZpZXcubWFwLnJlbW92ZUxheWVyKG1hcmtlckxheWVyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIE1hcExheWVyQ29udHJvbGxlcjtcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lKi9cbmRlZmluZSgnY29udHJvbGxlcnMvbWFwL3BhbicsIFtcbiAgICAgICdqcXVlcnknXG4gICAgLCAndW5kZXJzY29yZSdcbiAgICAsICdiYWNrYm9uZSdcbiAgICAsICdjb250cm9sbGVycy9wcm90b3R5cGUnXG4gICAgLCAnbWl4aW5zL2RvbXdhdGNoZXInXG5dLCBmdW5jdGlvbigkLF8sQmFja2JvbmUsQ29udHJvbGxlcixET01XYXRjaGVyKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBNYXBQYW5Db250cm9sbGVyID0gQ29udHJvbGxlci5leHRlbmQoe1xuICAgICAgICAgIG1hcDogbnVsbFxuICAgICAgICAsIG1hcGNvbmZpZzogbnVsbFxuICAgICAgICAsIGluaXRpYWxpemU6IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICAgIHRoaXMubWFwID0gYXJncy5tYXA7XG4gICAgICAgICAgICB0aGlzLm1hcGNvbmZpZyA9IGFyZ3MubWFwY29uZmlnO1xuICAgICAgICAgICAgaWYgKCF0aGlzLm1hcClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmluaXRpYWxpemVkIG1hcFwiKTtcbiAgICAgICAgfVxuICAgICAgICAsIF9maXRNYXJrZXJCb3VuZHMgOiBmdW5jdGlvbihtYXJrZXJWaWV3cykge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIGVsdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcnRpY2xlJyk7XG4gICAgICAgICAgICBpZiAoIWVsdCkgcmV0dXJuO1xuICAgICAgICAgICAgdmFyIGVkZ2VQdFggPSBMLkRvbVV0aWwuZ2V0Vmlld3BvcnRPZmZzZXQoZWx0KS54O1xuICAgICAgICAgICAgdmFyIGJvdW5kcyA9IEwubGF0TG5nQm91bmRzKF8ubWFwKG1hcmtlclZpZXdzLGZ1bmN0aW9uKG1hcmtlclZpZXcpIHtcbiAgICAgICAgICAgICAgICB2YXIgbG5nTGF0ID0gbWFya2VyVmlldy5tb2RlbC5nZXRHZW9qc29uKCkuZ2VvbWV0cnkuY29vcmRpbmF0ZXMuc2xpY2UoMCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEwubGF0TG5nKGxuZ0xhdC5yZXZlcnNlKCkpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgaWYgKGVkZ2VQdFggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGF0Lm1hcC5maXRCb3VuZHMoYm91bmRzKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWRnZVB0WCAhPSB0aGF0Lm1hcC5nZXRTaXplKCkueCkge1xuICAgICAgICAgICAgICAgIC8vIG1hcCB1bmRlcm5lYXRoIGFydGljbGVcbiAgICAgICAgICAgICAgICB0aGF0Lm1hcC5maXRCb3VuZHMoYm91bmRzLCB7XG4gICAgICAgICAgICAgICAgICAgICdwYWRkaW5nQm90dG9tUmlnaHQnIDogW2RvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggLSBlZGdlUHRYLDBdXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG1hcCBiZXNpZGUgYXJ0aWNsZVxuICAgICAgICAgICAgICAgIHRoYXQubWFwLmZpdEJvdW5kcyhib3VuZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhhdC5tYXAuaW52YWxpZGF0ZVNpemUoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhZGp1c3QgbWFwIHBhbi96b29tIHRvIG1ha2UgYWxsIG1hcCBtYXJrZXJzIG9jY3VyIHRvIHRoZVxuICAgICAgICAvLyBsZWZ0IG9mIGRpdiNhcnRpY2xlIGluIHdpZGUgbW9kZVxuICAgICAgICAsIGZpdE1hcmtlckJvdW5kcyA6IGZ1bmN0aW9uKG1hcmtlclZpZXdzKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgJGRlZiA9ICQuRGVmZXJyZWQoKTtcbiAgICAgICAgICAgICRkZWYudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoYXQubWFwY29uZmlnLnZpZXcpIHtcbiAgICAgICAgICAgICAgICAgIHRoYXQuX2ZpdE1hcmtlckJvdW5kcyhtYXJrZXJWaWV3cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLndhdGNoRE9NKDEwMDAsJyNhcnRpY2xlJywkZGVmKTtcbiAgICAgICAgfVxuICAgICAgICAsIGhhbmRsZVBvcHVwUG9zaXRpb24gOiBmdW5jdGlvbihwb3B1cCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIG1hcCA9IHRoYXQubWFwO1xuICAgICAgICAgICAgdmFyIGlkID0gJChwb3B1cC5nZXRDb250ZW50KCkpLmF0dHIoJ2lkJyk7XG4gICAgICAgICAgICB2YXIgZWRnZVB0WCwgJHBvcHVwV3JhcCwgcG9wdXBMYXRMbmcsIHBvcHVwUmlnaHRYLCBwYWQ7XG4gICAgICAgICAgICBwb3B1cExhdExuZyA9IHBvcHVwLmdldExhdExuZygpO1xuICAgICAgICAgICAgaWYgKHBvcHVwTGF0TG5nID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgICAgIGVkZ2VQdFggPSBMLkRvbVV0aWwuZ2V0Vmlld3BvcnRPZmZzZXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FydGljbGUnKSkueDtcbiAgICAgICAgICAgIC8vIG1hcCBzaG91bGQgcGFuIHJpZ2h0L2Vhc3QgaWYgdGhlIHBvcHVwIGJhbGxvb24gaXMgY292ZXJlZCBieSB0aGUgYXJ0aWNsZTtcbiAgICAgICAgICAgIC8vIHBhZCBpcyBhIHNsaWdodCByZWxpZWYgYmV0d2VlbiB0aGUgcG9wdXAgYW5kIHRoZSBhcnRpY2xlXG4gICAgICAgICAgICAkcG9wdXBXcmFwID0gJCgnIycgKyBpZCkuY2xvc2VzdCgnLmxlYWZsZXQtcG9wdXAtY29udGVudC13cmFwcGVyJykuZmlyc3QoKTtcbiAgICAgICAgICAgIHBhZCA9IEwucG9pbnQocG9wdXAub3B0aW9ucy5hdXRvUGFuUGFkZGluZ0JvdHRvbVJpZ2h0IHx8IHBvcHVwLm9wdGlvbnMuYXV0b1BhblBhZGRpbmcpO1xuICAgICAgICAgICAgcGFkID0gcGFkID8gcGFkLnggOiAwO1xuICAgICAgICAgICAgcG9wdXBSaWdodFggPSAoJHBvcHVwV3JhcC5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgID8gJHBvcHVwV3JhcC5vZmZzZXQoKS5sZWZ0ICsgJHBvcHVwV3JhcC53aWR0aCgpICsgcGFkXG4gICAgICAgICAgICAgICAgOiAwO1xuICAgICAgICAgICAgaWYgKGVkZ2VQdFggIT0gMCAmJiBwb3B1cFJpZ2h0WCA+IGVkZ2VQdFggJiYgZWRnZVB0WCAhPSBtYXAuZ2V0U2l6ZSgpLngpIHtcbiAgICAgICAgICAgICAgICBtYXAucGFuQnkoW3BvcHVwUmlnaHRYIC0gZWRnZVB0WCwwXSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFtYXAuZ2V0Qm91bmRzKCkuY29udGFpbnMocG9wdXAuZ2V0TGF0TG5nKCkpKSB7XG4gICAgICAgICAgICAgICAgbWFwLmNsb3NlUG9wdXAocG9wdXApO1xuICAgICAgICAgICAgICAgIG1hcC5vcGVuUG9wdXAocG9wdXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgXy5leHRlbmQoTWFwUGFuQ29udHJvbGxlci5wcm90b3R5cGUsRE9NV2F0Y2hlcik7XG4gICAgcmV0dXJuIE1hcFBhbkNvbnRyb2xsZXI7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSAqL1xuZGVmaW5lKCdtb2RlbHMvZXJyb3IvdXNlcicsIFtcbiAgICAnYmFja2JvbmUnXG5dLCBmdW5jdGlvbihCYWNrYm9uZSkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgVXNlckVycm9yTW9kZWwgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe1xuICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgXCJtc2dcIiA6IFwiXCJcbiAgICAgICAgfSxcbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oYXJncykge1xuICAgICAgICAgICAgdGhpcy5zZXQoJ21zZycsIGFyZ3MubXNnKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBVc2VyRXJyb3JNb2RlbDtcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lKi9cbmRlZmluZSgndmlld3MvYXJ0aWNsZS9nYWxsZXJ5JywgW1xuICAgICAgJ2pxdWVyeSdcbiAgICAsICd1bmRlcnNjb3JlJ1xuICAgICwgJ2JhY2tib25lJ1xuICAgICwgJ3ZpZXdzL2FydGljbGUvZ2FsbGVyeS9wb3BvdmVyJ1xuICAgICwgJ3ZpZXdzL2FydGljbGUvZ2FsbGVyeS9saWdodGJveCdcbiAgICAsICd2aWV3cy9hcnRpY2xlL2dhbGxlcnkvc2xpZGVzJ1xuXSwgZnVuY3Rpb24oJCxfLEJhY2tib25lLEFydGljbGVHYWxsZXJ5UG9wb3ZlclZpZXcsQXJ0aWNsZUdhbGxlcnlMaWdodGJveFZpZXcsQXJ0aWNsZUdhbGxlcnlTbGlkZXNWaWV3KSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBBcnRpY2xlR2FsbGVyeVZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgICAgICAgaWQ6ICdhcnRpY2xlJ1xuICAgICAgICAsIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge31cbiAgICAgICAgLCByZW1vdmU6IGZ1bmN0aW9uKCkgeyAvKiByZXRhaW4gKi99XG4gICAgICAgICwgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICAvLyBhZGp1c3QgaGVpZ2h0IG9mIGFydGljbGUgYm9keVxuICAgICAgICAgICAgLy8gVE9ETzogaGFuZGxlIGluIGNzc1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9ICQoJyNhcnRpY2xlIGFydGljbGUnKS5oZWlnaHQoKSAtICQoJyNoZWFkZXInKS5vdXRlckhlaWdodCh0cnVlKTtcbiAgICAgICAgICAgICQoJyNib2R5JykuY3NzKHtoZWlnaHQ6aGVpZ2h0fSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIHJlbW92ZSBpbWFnZXMgdGhhdCBmYWlsIHRvIGxvYWQsIHNpbmNlIHdlIGNhbm5vdCBkb1xuICAgICAgICAgICAgLy8gYSBmaWxlIHRlc3Qgd2hlbiBydW5uaW5nIHRoZSB4c2xcbiAgICAgICAgICAgIHZhciBkZWZzID0gW107XG4gICAgICAgICAgICAkKCdpbWcuc2xpZGVzanMtc2xpZGUnKS5lYWNoKGZ1bmN0aW9uKGksaW1nKXtcbiAgICAgICAgICAgICAgICB2YXIgJGRlZiA9ICQuRGVmZXJyZWQoKTtcbiAgICAgICAgICAgICAgICAkKGltZykubG9hZChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAkKGltZykucmVtb3ZlQ2xhc3MoJ3JlbW92ZScpO1xuICAgICAgICAgICAgICAgICAgICAkZGVmLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAkKGltZykuZXJyb3IoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWxsb3cgc29tZSB0aW1lIGJlZm9yZSBmYWlsdXJlXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAkZGVmLnJlamVjdCgpO1xuICAgICAgICAgICAgICAgICAgICB9LDUwMCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZGVmcy5wdXNoKCRkZWYpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkLndoZW4uYXBwbHkoe30sZGVmcykuYWx3YXlzKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgJCgnaW1nLnNsaWRlc2pzLXNsaWRlLnJlbW92ZScpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICQoJy5pbWFnZS1sb2FkaW5nJykucmVtb3ZlQ2xhc3MoJ2ltYWdlLWxvYWRpbmcnKTtcbiAgICAgICAgICAgICAgICBuZXcgQXJ0aWNsZUdhbGxlcnlQb3BvdmVyVmlldygpLnJlbmRlcigpO1xuICAgICAgICAgICAgICAgIG5ldyBBcnRpY2xlR2FsbGVyeUxpZ2h0Ym94VmlldygpLnJlbmRlcigpO1xuICAgICAgICAgICAgICAgIG5ldyBBcnRpY2xlR2FsbGVyeVNsaWRlc1ZpZXcoKS5yZW5kZXIoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIEFydGljbGVHYWxsZXJ5Vmlldztcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lKi9cbi8qXG4gKiBUaGlzIGlzIG1lYW50IHRvIGJlIGV4dGVuZGVkIGFzIGFuIGFic3RyYWN0IGJhc2UgY2xhc3MgZm9yIHRoZVxuICogc2VjdGlvbnMgb2YgYW4gYXJ0aWNsZS5cbiAqL1xuZGVmaW5lKCd2aWV3cy9hcnRpY2xlL21lbnUnLCBbXG4gICAgJ2pxdWVyeScsIFxuICAgICd1bmRlcnNjb3JlJywgXG4gICAgJ2JhY2tib25lJyxcbiAgICAnbWl4aW5zL3htbDJodG1sJyxcbiAgICAndGV4dCF4c2wvYXJ0aWNsZS1tZW51LnhzbCdcbl0sIGZ1bmN0aW9uKCQsXyxCYWNrYm9uZSxYTUwySFRNTCxhbVhzbCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgQXJ0aWNsZU1lbnVWaWV3ID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHBhcmFtcykge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgLy8gdGhpcyB2aWV3IGlzIG1lYW50IHRvIGJlIGNhbGxlZCBvbmx5IGFmdGVyIHRoZSBjb3JyZXNwb25kaW5nXG4gICAgICAgICAgICAvLyBhcnRpY2xlIG1vZGVsIGhhcyBiZWVuIGluaXRpYWxpemVkXG4gICAgICAgICAgICBpZiAodGhpcy5tb2RlbC5pbml0KCkuc3RhdGUoKSAhPT0gJ3Jlc29sdmVkJykge1xuICAgICAgICAgICAgICAgIHRocm93IFwiVW5pbml0aWFsaXplZCBhcnRpY2xlIGluIEFydGljbGVNZW51Vmlld1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG1lbnVpdGVtID0gdGhhdC54bWwyaHRtbCh0aGF0Lm1vZGVsLmdldCgneG1sJyksIGFtWHNsLCBwYXJhbXMpO1xuICAgICAgICAgICAgcmV0dXJuIG1lbnVpdGVtO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgXy5leHRlbmQoQXJ0aWNsZU1lbnVWaWV3LnByb3RvdHlwZSxYTUwySFRNTCk7XG4gICAgcmV0dXJuIEFydGljbGVNZW51Vmlldztcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lKi9cbmRlZmluZSgndmlld3MvZXJyb3IvdXNlcicsIFtcbiAgICAnanF1ZXJ5JywgXG4gICAgJ2JhY2tib25lJyxcbiAgICAndGV4dCFwYXJ0aWFscy9lcnJvci91c2VyLmh0bWwnXG5dLCBmdW5jdGlvbigkLEJhY2tib25lLHRtcGwpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIFVzZXJFcnJvclZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgICAgIHRlbXBsYXRlOiBfLnRlbXBsYXRlKHRtcGwpLFxuICAgICAgICBlbDogJCgnI2Vycm9yRGlhbG9nJyksXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuJGVsLmh0bWwgJiYgdGhpcy4kZWwubW9kYWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRlbC5odG1sKHRoaXMudGVtcGxhdGUodGhpcy5tb2RlbC5hdHRyaWJ1dGVzKSk7XG4gICAgICAgICAgICAgICAgdGhpcy4kZWwubW9kYWwoe2tleWJvYXJkOiB0cnVlLCBzaG93OiB0cnVlfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBVc2VyRXJyb3JWaWV3O1xufSk7XG4iLCIvKmdsb2JhbCBkZWZpbmUqL1xuZGVmaW5lKCdjb250cm9sbGVycy9tYXAvbGF5ZXIvcGxhY2V0eXBlJywgW1xuICAgICAgJ2pxdWVyeSdcbiAgICAsICd1bmRlcnNjb3JlJ1xuICAgICwgJ2JhY2tib25lJ1xuICAgICwgJ2NvbnRyb2xsZXJzL3Byb3RvdHlwZSdcbiAgICAsICdtb2RlbHMvZXJyb3IvdXNlcidcbiAgICAsICd2aWV3cy9lcnJvci91c2VyJ1xuICAgICwgJ3RleHQhcGFydGlhbHMvbWFya2VyLWxlZ2VuZC5odG1sJ1xuXSwgZnVuY3Rpb24oJCxfLEJhY2tib25lLENvbnRyb2xsZXIsVXNlckVycm9yTW9kZWwsVXNlckVycm9yVmlldyxsZWdlbmRQYXJ0aWFsKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBQbGFjZXR5cGVDb250cm9sbGVyID0gQ29udHJvbGxlci5leHRlbmQoe1xuICAgICAgICAgIHZpZXdzICA6IG51bGxcbiAgICAgICAgLCByb3V0ZXIgOiBudWxsXG4gICAgICAgICwgbWFwICAgIDogbnVsbFxuICAgICAgICAsIGNvbnRyb2wgOiBudWxsXG4gICAgICAgICwgaW5pdGlhbGl6ZTogZnVuY3Rpb24oYXJncykge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgdGhhdC52aWV3cyA9IGFyZ3Mudmlld3M7XG4gICAgICAgICAgICB0aGF0Lm1hcCA9IGFyZ3MubWFwO1xuICAgICAgICAgICAgdGhhdC5tYXBjb25maWcgPSBhcmdzLm1hcGNvbmZpZztcbiAgICAgICAgICAgIHZhciBsZWdlbmRUZW1wbCA9IF8udGVtcGxhdGUobGVnZW5kUGFydGlhbCk7XG4gICAgICAgICAgICB2YXIgbGF5ZXJNYXJrZXJzID0gXy5ncm91cEJ5KHRoYXQudmlld3MsIGZ1bmN0aW9uKG1hcmtlclZpZXcpe1xuICAgICAgICAgICAgICAgIHJldHVybiBtYXJrZXJWaWV3Lm1vZGVsLmdldEdlb2pzb24oKS5wcm9wZXJ0aWVzLmxheWVyO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgY29udHJvbCA9IHRoYXQuY29udHJvbCA9IEwuY29udHJvbC5sYXllcnMobnVsbCwgbnVsbCwgdGhhdC5tYXBjb25maWcuY29udHJvbC5sYXllcnMub3B0aW9ucykuYWRkVG8odGhhdC5tYXApO1xuICAgICAgICAgICAgLy8gZGlzYWJsZSBtb3VzZW92ZXIvbW91c2VvdXQgZXZlbnRzIGZvciB0aGlzIGNvbnRyb2wsIHdoaWNoIGFyZSBzZXQgYnkgZGVmYXVsdCBpblxuICAgICAgICAgICAgLy8gTGVhZmxldDsgZW5hYmxlcyAnY2xpY2snIGNvbnRyb2xcbiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBjb250cm9sLmdldENvbnRhaW5lcigpO1xuICAgICAgICAgICAgXy5mb3JFYWNoKE9iamVjdC5rZXlzKGNvbnRhaW5lciksIGZ1bmN0aW9uKGtleSl7XG4gICAgICAgICAgICAgICAgaWYgKGtleS5tYXRjaCgnbW91c2VvdmVyJykpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBjb250YWluZXJba2V5XSk7XG4gICAgICAgICAgICAgICAgaWYgKGtleS5tYXRjaCgnbW91c2VvdXQnKSlcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgY29udGFpbmVyW2tleV0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBpbiBTYWZhcmksIGxheWVyIGNvbnRyb2wgYnV0dG9uIGRvZXMgbm90IHJlY2VpdmUgJ2ZvY3VzJyBldmVudCBvbiBjbGlja1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBMLkRvbUV2ZW50Lm9uKCQoJy5sZWFmbGV0LWNvbnRyb2wtbGF5ZXJzLXRvZ2dsZScpWzBdLCAnY2xpY2snLCBjb250cm9sLl9leHBhbmQsIGNvbnRyb2wpO1xuICAgICAgICAgICAgXy5lYWNoKF8ua2V5cyhsYXllck1hcmtlcnMpLCBmdW5jdGlvbihsYXllck5hbWUpIHtcbiAgICAgICAgICAgICAgICB2YXIga2xhc3MgPSBsYXllck5hbWUucmVwbGFjZSgvXFxzKy9nLCAnLScpO1xuICAgICAgICAgICAgICAgIHZhciBsYXllckxlZ2VuZCA9IGxlZ2VuZFRlbXBsKHtcbiAgICAgICAgICAgICAgICAgICAgICBpY29uVXJsOiBsYXllck1hcmtlcnNbbGF5ZXJOYW1lXVswXS5tb2RlbC5nZXQoJ2ljb25VcmwnKVxuICAgICAgICAgICAgICAgICAgICAsIHRpdGxlICA6IGxheWVyTmFtZVxuICAgICAgICAgICAgICAgICAgICAsIGtsYXNzICA6IGtsYXNzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIG1hcmtlckxheWVycyA9IF8ubWFwKGxheWVyTWFya2Vyc1tsYXllck5hbWVdLCBmdW5jdGlvbih2aWV3KXsgcmV0dXJuIHZpZXcubWFya2VyTGF5ZXI7IH0pO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsYXllciA9IEwubGF5ZXJHcm91cChtYXJrZXJMYXllcnMpO1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sLmFkZE92ZXJsYXkobGF5ZXIsbGF5ZXJMZWdlbmQpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3IFVzZXJFcnJvclZpZXcoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWw6IG5ldyBVc2VyRXJyb3JNb2RlbCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnOiBlLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkKCdpbnB1dC5sZWFmbGV0LWNvbnRyb2wtbGF5ZXJzLXNlbGVjdG9yJykuZWFjaChmdW5jdGlvbihpLGVsdCkge1xuICAgICAgICAgICAgICAgJChlbHQpLmNsaWNrKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnRyb2wubWFwTGF5ZXJDb250cm9sbGVyID0gdGhhdDtcbiAgICAgICAgICAgIGNvbnRyb2wuX29uSW5wdXRDbGljayA9IHRoYXQuX29uSW5wdXRDbGljaztcbiAgICAgICAgfVxuICAgICAgICAsIGdldEZpbHRlclN0YXRlIDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgc2hvdzogKHRoaXMuc2hvdyB8fCBbXSlcbiAgICAgICAgICAgICAgICAsIGhpZGU6ICh0aGlzLmhpZGUgfHwgW10pXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE86IGRvIG5vdCBvdmVycmlkZSB0aGlzIHByaXZhdGUgbWV0aG9kOyBzYWZlciB0byByZXBsYWNlXG4gICAgICAgIC8vICBMLmNvbnRyb2wubGF5ZXJzKCkgd2l0aCBhIGN1c3RvbSBjb250cm9sXG4gICAgICAgICwgX29uSW5wdXRDbGljazogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgY29udHJvbCA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgc2hvdyA9IFtdLCBoaWRlID0gW107XG4gICAgXHRcdHZhciBpLCBpbnB1dCwgb2JqLFxuICAgIFx0XHQgICAgaW5wdXRzID0gY29udHJvbC5fZm9ybS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKSxcbiAgICBcdFx0ICAgIGlucHV0c0xlbiA9IGlucHV0cy5sZW5ndGg7XG4gICAgXHRcdGNvbnRyb2wuX2hhbmRsaW5nQ2xpY2sgPSB0cnVlO1xuICAgIFx0XHRmb3IgKGkgPSAwOyBpIDwgaW5wdXRzTGVuOyBpKyspIHtcbiAgICBcdFx0XHRpbnB1dCA9IGlucHV0c1tpXTtcbiAgICBcdFx0XHRvYmogPSBjb250cm9sLl9sYXllcnNbaW5wdXQubGF5ZXJJZF07XG4gICAgXHRcdFx0aWYgKGlucHV0LmNoZWNrZWQpIHtcbiAgICBcdFx0XHRcdG9iai5sYXllci5nZXRMYXllcnMoKS5mb3JFYWNoKGZ1bmN0aW9uKGxheWVyKSB7XG4gICAgXHRcdFx0XHQgICAgc2hvdy5wdXNoKGxheWVyKTtcbiAgICBcdFx0XHQgICAgfSk7XG4gICAgXHRcdFx0fSBlbHNlIHtcbiAgICBcdFx0XHRcdG9iai5sYXllci5nZXRMYXllcnMoKS5mb3JFYWNoKGZ1bmN0aW9uKGxheWVyKSB7XG4gICAgXHRcdFx0XHQgICAgaGlkZS5wdXNoKGxheWVyKTtcbiAgICBcdFx0XHQgICAgfSk7XG4gICAgXHRcdFx0fVxuICAgIFx0XHR9XG4gICAgXHRcdGNvbnRyb2wuX2hhbmRsaW5nQ2xpY2sgPSBmYWxzZTtcbiAgICBcdFx0Y29udHJvbC5fcmVmb2N1c09uTWFwKCk7XG4gICAgXHRcdGNvbnRyb2wubWFwTGF5ZXJDb250cm9sbGVyLnNob3cgPSBzaG93O1xuICAgIFx0XHRjb250cm9sLm1hcExheWVyQ29udHJvbGxlci5oaWRlID0gaGlkZTtcbiAgICBcdFx0Y29udHJvbC5tYXBMYXllckNvbnRyb2xsZXIudHJpZ2dlcignZmlsdGVyJyk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gUGxhY2V0eXBlQ29udHJvbGxlcjtcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lKi9cbmRlZmluZSgnY29udHJvbGxlcnMvbWFwL2xheWVyL3RpbWVsaW5lJywgW1xuICAgICAgJ2pxdWVyeSdcbiAgICAsICd1bmRlcnNjb3JlJ1xuICAgICwgJ2JhY2tib25lJ1xuICAgICwgJ2NvbnRyb2xsZXJzL3Byb3RvdHlwZSdcbiAgICAsICd2aWV3cy9tYXAvbGF5ZXIvdGltZWxpbmUnXG4gICAgLCAnbW9kZWxzL21hcC9sYXllci90aW1lbGluZSdcbl0sIGZ1bmN0aW9uKCQsXyxCYWNrYm9uZSxDb250cm9sbGVyLFRpbWVsaW5lVmlldyxUaW1lbGluZU1vZGVsKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBNYXBUaW1lbGluZUNvbnRyb2xsZXIgPSBDb250cm9sbGVyLmV4dGVuZCh7XG4gICAgICAgICAgbWFwICAgIDogbnVsbFxuICAgICAgICAsIG1vZGVsICA6IG51bGxcbiAgICAgICAgLCB2aWV3ICAgOiBudWxsXG4gICAgICAgICwgc2l0ZWNvbmZpZzogbnVsbFxuICAgICAgICAsIG1hcmtlclZpZXdzOiBudWxsXG4gICAgICAgICwgaW5pdGlhbGl6ZTogZnVuY3Rpb24oYXJncykge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgdGhhdC52aWV3cyA9IGFyZ3Mudmlld3M7XG4gICAgICAgICAgICB0aGF0Lm1hcCA9IGFyZ3MubWFwO1xuICAgICAgICAgICAgdGhhdC5tYXJrZXJWaWV3cyA9IGFyZ3MubWFya2VyVmlld3M7XG4gICAgICAgICAgICB0aGF0Lm1vZGVsID0gbmV3IFRpbWVsaW5lTW9kZWwoe1xuICAgICAgICAgICAgICAgICAgc2l0ZWNvbmZpZyAgOiBhcmdzLnNpdGVjb25maWdcbiAgICAgICAgICAgICAgICAsIG1hcmtlclZpZXdzIDogYXJncy5tYXJrZXJWaWV3c1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGF0LnZpZXcgPSBuZXcgVGltZWxpbmVWaWV3KHtcbiAgICAgICAgICAgICAgICAgIG1vZGVsIDogdGhhdC5tb2RlbFxuICAgICAgICAgICAgICAgICwgbWFwICAgOiB0aGF0Lm1hcFxuICAgICAgICAgICAgICAgICwgbWFya2VyVmlld3MgOiBhcmdzLm1hcmtlclZpZXdzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHJlc3VsdHMuY2xlYXIgaXMgYSBmbGFnIHRoYXQgdGhlIGJydXNoIGlzIGVtcHR5XG4gICAgICAgICAgICAvLyByZXN1bHRzLmluY2wgaXMgYW4gYXJyYXkgb2YgTWFwVGltZWxpbmVJdGVtJ3NcbiAgICAgICAgICAgIC8vIHRyaWdnZXIgc2hvdy9oaWRlIG9uIGxpc3RzIG9mIEFydGljbGVNb2RlbCdzXG4gICAgICAgICAgICB0aGF0Lmxpc3RlblRvKHRoYXQudmlldywgJ2ZpbHRlcicsIHRoYXQuX2hhbmRsZUZpbHRlckV2ZW50KTtcbiAgICAgICAgICAgIHRoYXQudmlldy5yZW5kZXIoKTtcbiAgICAgICAgfVxuICAgICAgICAsIF9oYW5kbGVGaWx0ZXJFdmVudCA6IGZ1bmN0aW9uKHJlc3VsdHMpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHZhciBzaG93TGF5ZXJzID0gW10sIGhpZGVMYXllcnMgPSBbXSwgc2hvd0lkcyA9IHt9O1xuICAgICAgICAgICAgaWYgKHJlc3VsdHMuY2xlYXIpIHtcbiAgICAgICAgICAgICAgICBzaG93TGF5ZXJzID0gXy5tYXAodGhhdC5tYXJrZXJWaWV3cywgZnVuY3Rpb24obWFya2VyVmlldykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWFya2VyVmlldy5tYXJrZXJMYXllcjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2hvd0xheWVycyA9IF8ubWFwKHJlc3VsdHMuc2VsZWN0ZWQsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgc2hvd0lkc1tpdGVtLm1hcmtlclZpZXcubW9kZWwuY2lkXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0ubWFya2VyVmlldy5tYXJrZXJMYXllcjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBoaWRlTGF5ZXJzID0gXy5tYXAoXy5maWx0ZXIodGhhdC5tYXJrZXJWaWV3cywgZnVuY3Rpb24obWFya2VyVmlldykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIShtYXJrZXJWaWV3Lm1vZGVsLmNpZCBpbiBzaG93SWRzKTtcbiAgICAgICAgICAgICAgICB9KSwgZnVuY3Rpb24obWFya2VyVmlldykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWFya2VyVmlldy5tYXJrZXJMYXllcjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoYXQuc2hvdyA9IHNob3dMYXllcnM7XG4gICAgICAgICAgICB0aGF0LmhpZGUgPSBoaWRlTGF5ZXJzO1xuICAgICAgICAgICAgdGhhdC50cmlnZ2VyKCdmaWx0ZXInKTtcbiAgICAgICAgfVxuICAgICAgICAsIGdldEZpbHRlclN0YXRlIDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgc2hvdzogKHRoaXMuc2hvdyB8fCBbXSlcbiAgICAgICAgICAgICAgICAsIGhpZGU6ICh0aGlzLmhpZGUgfHwgW10pXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIE1hcFRpbWVsaW5lQ29udHJvbGxlcjtcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lICovXG5kZWZpbmUoJ21vZGVscy9tYXAvbGF5ZXIvdGltZWxpbmUnLCBbXG4gICAgICAnanF1ZXJ5J1xuICAgICwgJ3VuZGVyc2NvcmUnXG4gICAgLCAnYmFja2JvbmUnXG4gICAgLCAnY29sbGVjdGlvbnMvdGltZWxpbmUnXG4gICAgLCAnbW9kZWxzL21hcC9sYXllci90aW1lbGluZS9pdGVtJ1xuICAgICwgJ21peGlucy9hc3luY0luaXQnXG5dLCBmdW5jdGlvbigkLF8sQmFja2JvbmUsVGltZWxpbmVDb2xsZWN0aW9uLFRpbWVsaW5lSXRlbSxBc3luY0luaXQpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIFRpbWVsaW5lTW9kZWwgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe1xuICAgICAgICAgIG1hcmtlclZpZXdzOiBudWxsXG4gICAgICAgICwgc3RhcnQ6IG51bGxcbiAgICAgICAgLCBlbmQ6IG51bGxcbiAgICAgICAgLCBzaXRlY29uZmlnIDogbnVsbFxuICAgICAgICAsIGJvb2tjb25maWcgOiBudWxsXG4gICAgICAgICwgaW5pdGlhbGl6ZTogZnVuY3Rpb24oYXJncykge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgdGhhdC5tYXJrZXJWaWV3cyA9IGFyZ3MubWFya2VyVmlld3M7XG4gICAgICAgICAgICB0aGF0LnNpdGVjb25maWcgPSBhcmdzLnNpdGVjb25maWc7XG4gICAgICAgICAgICB0aGF0LiRkZWYgPSAkLkRlZmVycmVkKCk7XG4gICAgICAgICAgICAkLmdldEpTT04odGhhdC5zaXRlY29uZmlnLmJvb2suZmlsZSwgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIHRoYXQuYm9va2NvbmZpZyA9IGRhdGEuYm9vaztcbiAgICAgICAgICAgICAgICB0aGF0Ll9pbml0aWFsaXplKCk7XG4gICAgICAgICAgICAgICAgdGhhdC4kZGVmLnJlc29sdmUodGhhdCk7XG4gICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uKGpxeGhyLCB0ZXh0U3RhdHVzLCBlcnJvcikge1xuICAgICAgICAgICAgICAgIHRoYXQuJGRlZi5yZWplY3QoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgICwgX2luaXRpYWxpemUgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHZhciBjb2wgPSBuZXcgVGltZWxpbmVDb2xsZWN0aW9uKCk7XG4gICAgICAgICAgICB0aGF0LnNldCgnY29sbGVjdGlvbicsIGNvbCk7XG4gICAgICAgICAgICBfLmZvckVhY2godGhhdC5tYXJrZXJWaWV3cywgZnVuY3Rpb24obWFya2VyVmlldykge1xuICAgICAgICAgICAgICAgIHZhciBtb2RlbCA9IG1hcmtlclZpZXcubW9kZWw7XG4gICAgICAgICAgICAgICAgdmFyIGJvb2tDaGFwdGVyID0gXy5maW5kV2hlcmUodGhhdC5ib29rY29uZmlnLmNoYXB0ZXJzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgcGFydCAgICA6IG1vZGVsLmF0dHJpYnV0ZXMuY2l0ZWRSYW5nZS5wYXJ0XG4gICAgICAgICAgICAgICAgICAgICwgY2hhcHRlciA6IG1vZGVsLmF0dHJpYnV0ZXMuY2l0ZWRSYW5nZS5jaGFwdGVyXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCFib29rQ2hhcHRlcikgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHZhciBzdGFydCA9IGJvb2tDaGFwdGVyLnBhcmFncmFwaHMuc3RhcnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKyBtb2RlbC5hdHRyaWJ1dGVzLmNpdGVkUmFuZ2UucGFyYWdyYXBoO1xuICAgICAgICAgICAgICAgIHZhciBlbmQgPSBzdGFydCArIDE7XG4gICAgICAgICAgICAgICAgY29sLmFkZChuZXcgVGltZWxpbmVJdGVtKHtcbiAgICAgICAgICAgICAgICAgICAgICBzdGFydDogc3RhcnRcbiAgICAgICAgICAgICAgICAgICAgLCBlbmQ6IGVuZFxuICAgICAgICAgICAgICAgICAgICAsIG1hcmtlclZpZXc6IG1hcmtlclZpZXdcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoYXQuc3RhcnQgPSBfLm1pbih0aGF0LmJvb2tjb25maWcuY2hhcHRlcnMsIGZ1bmN0aW9uKGNoYXB0ZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hhcHRlci5wYXJhZ3JhcGhzLnN0YXJ0O1xuICAgICAgICAgICAgfSkucGFyYWdyYXBocy5zdGFydDtcbiAgICAgICAgICAgIHRoYXQuZW5kID0gXy5tYXgodGhhdC5ib29rY29uZmlnLmNoYXB0ZXJzLCBmdW5jdGlvbihjaGFwdGVyKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hhcHRlci5wYXJhZ3JhcGhzLmVuZDtcbiAgICAgICAgICAgIH0pLnBhcmFncmFwaHMuZW5kO1xuICAgICAgICB9XG4gICAgICAgICwgZ2V0SXRlbXMgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldCgnY29sbGVjdGlvbicpLm1vZGVscztcbiAgICAgICAgfVxuICAgICAgICAsIHRpY2tWYWx1ZXMgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBfLm1hcCh0aGlzLmJvb2tjb25maWcuY2hhcHRlcnMsIGZ1bmN0aW9uKGNoYXB0ZXIpe1xuICAgICAgICAgICAgICAgIHJldHVybiBjaGFwdGVyLnBhcmFncmFwaHMuc3RhcnQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhbHVlcy5zb3J0KGZ1bmN0aW9uKGEsYikgeyByZXR1cm4gYS1iOyB9KTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgICAgIH1cbiAgICAgICAgLCB0aWNrRm9ybWF0IDogZnVuY3Rpb24ocCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgICAgIHZhciBpLGNoYXB0ZXI7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoYXQuYm9va2NvbmZpZy5jaGFwdGVycy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICBjaGFwdGVyID0gdGhhdC5ib29rY29uZmlnLmNoYXB0ZXJzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAocCA8PSBjaGFwdGVyLnBhcmFncmFwaHMuZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwID0gY2hhcHRlci5jaGFwdGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYmxhbmsgdGljayBmb3IgZW5kIG9mIGJvb2tcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwID09PSB0aGF0LmJvb2tjb25maWcuY2hhcHRlcnMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuXG4gICAgICAgICAgICBfLmZpbmRJbmRleCh0aGlzLmdldCgnY29sbGVjdGlvbicpLm1vZGVscywgZnVuY3Rpb24oaXRlbSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChpdGVtLmNpZCA9PT0gdGltZWxpbmVJdGVtLmNpZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghaSkgcmV0dXJuO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdjb2xsZWN0aW9uJykuZ2V0KGkpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgXy5leHRlbmQoVGltZWxpbmVNb2RlbC5wcm90b3R5cGUsQXN5bmNJbml0KTtcbiAgICByZXR1cm4gVGltZWxpbmVNb2RlbDtcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lKi9cbmRlZmluZSgndmlld3MvYXJ0aWNsZS9nYWxsZXJ5L2xpZ2h0Ym94JywgW1xuICAgICAgJ2pxdWVyeSdcbiAgICAsICd1bmRlcnNjb3JlJ1xuICAgICwgJ2JhY2tib25lJ1xuICAgICwgJ3RleHQhcGFydGlhbHMvbGlnaHRib3gtdGl0bGUuaHRtbCdcbiAgICAsICdsaWdodGJveCdcbl0sIGZ1bmN0aW9uKCQsXyxCYWNrYm9uZSxsaWdodGJveFRpdGxlVGVtcGwpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIEFydGljbGVHYWxsZXJ5TGlnaHRib3hWaWV3ID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAgICAgICAgIGlkOiAnYXJ0aWNsZSdcbiAgICAgICAgLCBpbml0aWFsaXplOiBmdW5jdGlvbigpIHt9XG4gICAgICAgICwgcmVtb3ZlOiBmdW5jdGlvbigpIHsgLyogcmV0YWluICovfVxuICAgICAgICAsIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgJCgnLmdhbGxlcnktaXRlbScpLm1hZ25pZmljUG9wdXAoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdpbWFnZScsXG4gICAgICAgICAgICAgICAgZ2FsbGVyeTp7XG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGltYWdlOiB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlU3JjOiBmdW5jdGlvbigkaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkID0gJGl0ZW0uZWwuYXR0cignaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkcG8gPSAkKCcucG9wb3Zlci4nICsgaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBjdCA9IF8udGVtcGxhdGUobGlnaHRib3hUaXRsZVRlbXBsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb250ZW50ID0gcGN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJHBvLmZpbmQoJy5oZWFkJykudGV4dCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHI6ICRwby5maW5kKCcuYXR0cicpLnRleHQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJCgnLmdseXBoaWNvbi5nbHlwaGljb24tZXhwYW5kJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZ0KXtcbiAgICAgICAgICAgICAgICAkKCcuZ2FsbGVyeS1pdGVtJykubWFnbmlmaWNQb3B1cCgnb3BlbicpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdGhhdDtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBBcnRpY2xlR2FsbGVyeUxpZ2h0Ym94Vmlldztcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lKi9cbmRlZmluZSgndmlld3MvYXJ0aWNsZS9nYWxsZXJ5L3BvcG92ZXInLCBbXG4gICAgICAnanF1ZXJ5J1xuICAgICwgJ3VuZGVyc2NvcmUnXG4gICAgLCAnYmFja2JvbmUnXG4gICAgLCAndGV4dCFwYXJ0aWFscy9pbWFnZS1wb3BvdmVyLmh0bWwnXG4gICAgLCAndGV4dCFwYXJ0aWFscy9pbWFnZS1wb3BvdmVyLWNvbnRlbnQuaHRtbCdcbl0sIGZ1bmN0aW9uKCQsXyxCYWNrYm9uZSxwb3BvdmVyVGVtcGwscG9wb3ZlckNvbnRlbnRUZW1wbCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgQXJ0aWNsZUdhbGxlcnlQb3BvdmVyVmlldyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgICAgICAgICBpZDogJ2FydGljbGUnXG4gICAgICAgICwgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7fVxuICAgICAgICAsIHJlbW92ZTogZnVuY3Rpb24oKSB7IC8qIHJldGFpbiAqL31cbiAgICAgICAgLCByZW5kZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIC8vIGFkZCBwb3BvdmVycyB0byBpbWFnZXNcbiAgICAgICAgICAgIHZhciBwY3QgPSBfLnRlbXBsYXRlKHBvcG92ZXJDb250ZW50VGVtcGwpO1xuICAgICAgICAgICAgJCgnaW1nLnNsaWRlc2pzLXNsaWRlJykuZWFjaChmdW5jdGlvbihpLGVsdCkge1xuICAgICAgICAgICAgICAgIHZhciBpZCA9IGVsdC5nZXRBdHRyaWJ1dGUoJ2lkJyk7XG4gICAgICAgICAgICAgICAgdmFyICRwbyA9ICQoJy5wb3BvdmVyLicgKyBpZCk7XG4gICAgICAgICAgICAgICAgdmFyIHRpdGxlID0gJHBvLmZpbmQoJy5oZWFkJykudGV4dCgpO1xuICAgICAgICAgICAgICAgICQoZWx0KS5hdHRyKCdhbHQnLCAkcG8uZmluZCgnLmRlc2MnKS50ZXh0KCkpO1xuICAgICAgICAgICAgICAgIHZhciBjb250ZW50ID0gcGN0KHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cjogJHBvLmZpbmQoJy5hdHRyJykudGV4dCgpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgJChlbHQpLnBvcG92ZXIoe1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IFwiYm9keVwiLFxuICAgICAgICAgICAgICAgICAgICBodG1sIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogcG9wb3ZlclRlbXBsLFxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiBcImhvdmVyXCIsXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudDogXCJsZWZ0XCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAkKGVsdCkuY2xpY2soZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgICAgICAgICAgICQoZWx0KS5wb3BvdmVyKCdoaWRlJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB0aGF0O1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIEFydGljbGVHYWxsZXJ5UG9wb3ZlclZpZXc7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSovXG5kZWZpbmUoJ3ZpZXdzL2FydGljbGUvZ2FsbGVyeS9zbGlkZXMnLCBbXG4gICAgICAnanF1ZXJ5J1xuICAgICwgJ3VuZGVyc2NvcmUnXG4gICAgLCAnYmFja2JvbmUnXG4gICAgLCAndGV4dCFwYXJ0aWFscy9pbWFnZS1wb3BvdmVyLmh0bWwnXG4gICAgLCAndGV4dCFwYXJ0aWFscy9pbWFnZS1wb3BvdmVyLWNvbnRlbnQuaHRtbCdcbiAgICAsICd0ZXh0IXBhcnRpYWxzL2xpZ2h0Ym94LXRpdGxlLmh0bWwnXG4gICAgLCAnc2xpZGVzanMnXG4gICAgLCAnbGlnaHRib3gnXG5dLCBmdW5jdGlvbigkLF8sQmFja2JvbmUscG9wb3ZlclRlbXBsLHBvcG92ZXJDb250ZW50VGVtcGwsbGlnaHRib3hUaXRsZVRlbXBsKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBBcnRpY2xlR2FsbGVyeVNsaWRlc1ZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgICAgICAgaWQ6ICdhcnRpY2xlJ1xuICAgICAgICAsIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge31cbiAgICAgICAgLCByZW1vdmU6IGZ1bmN0aW9uKCkgeyAvKiByZXRhaW4gKi99XG4gICAgICAgICwgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICAvLyBjb25maWd1cmUgc2xpZGVzanM7IHVwIHRvIG5vdywgJ2Rpc3BsYXk6bm9uZSdcbiAgICAgICAgICAgIC8vIGhhcyBhcHBsaWVkXG4gICAgICAgICAgICAkKFwiI3NsaWRlc1wiKS5zbGlkZXNqcyh7XG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmU6ICgkKCdpbWcuc2xpZGVzanMtc2xpZGUnKS5sZW5ndGggPiAxKSxcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0OiBcImZhZGVcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcGFnaW5hdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmU6ICgkKCdpbWcuc2xpZGVzanMtc2xpZGUnKS5sZW5ndGggPiAxKSxcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0OiBcImZhZGVcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0OiB7XG4gICAgICAgICAgICAgICAgICAgIGZhZGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICBzcGVlZDogMTAwLFxuICAgICAgICAgICAgICAgICAgICAgIGNyb3NzZmFkZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazoge1xuICAgICAgICAgICAgICAgICAgICAvLyBjYWxsZWQgb24gbG9hZCBvZiBmaXJzdCBwaWNcbiAgICAgICAgICAgICAgICAgICAgbG9hZGVkOiBmdW5jdGlvbihudW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkaW1nID0gJChcIi5zbGlkZXNqcy1jb250cm9sXCIpLmNoaWxkcmVuKCc6ZXEoJysgKG51bWJlciAtIDEpICsgJyknKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRpbWcuY3NzKHt2aXNpYmlsaXR5OiBcImhpZGRlblwifSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkaW1nLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICdhdXRvJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgd2lkdGg6ICAnYXV0bydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIG1heEhlaWdodDogJChcIi5zbGlkZXNqcy1jb250YWluZXJcIikuaGVpZ2h0KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIG1heFdpZHRoOiAgJChcIi5zbGlkZXNqcy1jb250YWluZXJcIikud2lkdGgoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgcG9zaXRpb246ICBcInJlbGF0aXZlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlIGxlZnQgb2Zmc2V0IG9uY2UgdGhlIHByZXZpb3VzIHByb3BlcnRpZXMgaGF2ZSBiZWVuIHNldFxuICAgICAgICAgICAgICAgICAgICAgICAgJGltZy5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCAgIDogKCQoXCIuc2xpZGVzanMtY29udGFpbmVyXCIpLndpZHRoKCkgLSAkaW1nLndpZHRoKCkpLzIgLSBwYXJzZUludCgkaW1nLmNzcygncGFkZGluZy1sZWZ0JyksIDEwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgbWFyZ2luIDogMFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkaW1nLmNzcyh7IHZpc2liaWxpdHk6IFwidmlzaWJsZVwiIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAvLyBjYWxsZWQgc3RhcnQgb2YgY2hhbmdlIG9mIHBpYyAoYWZ0ZXIgZmlyc3QpXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBmdW5jdGlvbihudW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIuc2xpZGVzanMtY29udHJvbFwiKS5jaGlsZHJlbigpLmNzcyh7dmlzaWJpbGl0eTogXCJoaWRkZW5cIn0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAvLyBjYWxsZWQgZW5kIG9mIGNoYW5nZSBvZiBwaWMgKGFmdGVyIGZpcnN0KVxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24obnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3SW1nID0gbnVtYmVyIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkaW1nID0gJChcIi5zbGlkZXNqcy1jb250cm9sXCIpLmNoaWxkcmVuKCc6ZXEoJysgbmV3SW1nICsgJyknKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRpbWcuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJ2F1dG8nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLCB3aWR0aDogICdhdXRvJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgbWF4SGVpZ2h0OiAkKFwiLnNsaWRlc2pzLWNvbnRhaW5lclwiKS5oZWlnaHQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgbWF4V2lkdGg6ICAkKFwiLnNsaWRlc2pzLWNvbnRhaW5lclwiKS53aWR0aCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBwb3NpdGlvbjogIFwicmVsYXRpdmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkaW1nLmNzcyh7IHZpc2liaWxpdHk6IFwidmlzaWJsZVwiIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdGhhdDtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBBcnRpY2xlR2FsbGVyeVNsaWRlc1ZpZXc7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSovXG5kZWZpbmUoJ3ZpZXdzL21hcC9sYXllci90aW1lbGluZScsIFtcbiAgICAgICdqcXVlcnknXG4gICAgLCAndW5kZXJzY29yZSdcbiAgICAsICdiYWNrYm9uZSdcbiAgICAsICdsZWFmbGV0J1xuICAgICwgJ3RleHQhcGFydGlhbHMvdGltZWxpbmUuaHRtbCdcbiAgICAsICdjb250cm9scy9MLkNvbnRyb2wuVGltZWxpbmUnXG5dLCBmdW5jdGlvbigkLF8sQmFja2JvbmUsTCx0aW1lbGluZUNvbnRyb2xQYXJ0aWFsKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBUaW1lbGluZVZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgICAgICAgaWQ6ICd0aW1lbGluZSdcbiAgICAgICAgLCBtYXA6IG51bGxcbiAgICAgICAgLCBpbml0aWFsaXplOiBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB0aGF0Lm1hcCA9IGFyZ3MubWFwO1xuICAgICAgICB9XG4gICAgICAgICwgX3RpbWVsaW5lQ29sbGFwc2UgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHRoYXQuX2hhbmRsZUZpbHRlcih7Y2xlYXI6dHJ1ZX0pO1xuICAgICAgICB9XG4gICAgICAgICwgX2hhbmRsZUZpbHRlciA6IGZ1bmN0aW9uKHNlbGVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoJ2ZpbHRlcicsIHNlbGVjdGVkKTtcbiAgICAgICAgfVxuICAgICAgICAsIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgcG9zaXRpb24sIGNvbnRyb2xoZWlnaHQsIG1hcGhlaWdodCwgZG9jdW1lbnRoZWlnaHQ7XG4gICAgICAgICAgICBtYXBoZWlnaHQgPSAkKCcjbWFwJykuaGVpZ2h0KCk7XG4gICAgICAgICAgICBkb2N1bWVudGhlaWdodCA9IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0O1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGRvY3VtZW50aGVpZ2h0LzIgLSBtYXBoZWlnaHQpIDwgMikge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gJ2JvdHRvbXJpZ2h0JztcbiAgICAgICAgICAgICAgICBjb250cm9saGVpZ2h0ID0gJCgnI21hcCcpLmhlaWdodCgpIC0gMTAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9ICd0b3BsZWZ0JztcbiAgICAgICAgICAgICAgICBjb250cm9saGVpZ2h0ID0gNTAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhhdC5tb2RlbC5pbml0KCkuZG9uZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGF0LnRpbWVsaW5lID0gTC5jb250cm9sLnRpbWVsaW5lKHRoYXQubWFwLHRoYXQubW9kZWwsXG4gICAgICAgICAgICAgICAgICAgIHsgICAgIGhlaWdodCAgIDogY29udHJvbGhlaWdodFxuICAgICAgICAgICAgICAgICAgICAgICAgLCBwb3NpdGlvbiA6IHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAsIG9uOiB7IGJydXNoZW5kOiBmdW5jdGlvbihhKSB7IHRoYXQuX2hhbmRsZUZpbHRlcihhKTsgfX19XG4gICAgICAgICAgICAgICAgKS5hZGRUbyh0aGF0Lm1hcCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBUaW1lbGluZVZpZXc7XG59KTtcblxuIiwiLypnbG9iYWwgZGVmaW5lICovXG5kZWZpbmUoJ21vZGVscy9tYXAvbGF5ZXIvdGltZWxpbmUvaXRlbScsIFtcbiAgICAgICdqcXVlcnknXG4gICAgLCAndW5kZXJzY29yZSdcbiAgICAsICdiYWNrYm9uZSdcbl0sIGZ1bmN0aW9uKCQsXyxCYWNrYm9uZSkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgVGltZWxpbmVJdGVtTW9kZWwgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe1xuICAgICAgICAgIG1hcmtlclZpZXc6IG51bGxcbiAgICAgICAgLCBzdGFydDogbnVsbCAgICAgICAvLyBcImFic29sdXRlXCIgc3RhcnQgKGllLCBwYXJhZ3JhcGggaW5kZXggdy9vIGNoYXB0ZXIpXG4gICAgICAgICwgZW5kOiBudWxsICAgICAgICAgLy8gXCJhYnNvbHV0ZVwiIGVuZFxuICAgICAgICAsIGluaXRpYWxpemU6IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHRoYXQubWFya2VyVmlldyA9IGFyZ3MubWFya2VyVmlldztcbiAgICAgICAgICAgIHRoYXQuc3RhcnQgPSBhcmdzLnN0YXJ0O1xuICAgICAgICAgICAgdGhhdC5lbmQgPSBhcmdzLmVuZDtcbiAgICAgICAgfVxuICAgICAgICAsIGR1cmF0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVuZC10aGlzLnN0YXJ0O1xuICAgICAgICB9XG4gICAgICAgICwgY29tcGFyZVRvOiBmdW5jdGlvbihiKSB7XG4gICAgICAgICAgICByZXR1cm4gXG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gVGltZWxpbmVJdGVtTW9kZWw7XG59KTtcbiIsInJlcXVpcmUuY29uZmlnKHtcbiAgcGF0aHM6IHtcbiAgICAgIGJhY2tib25lICA6ICcvL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9iYWNrYm9uZS5qcy8xLjEuMi9iYWNrYm9uZS1taW4nXG4gICAgLCBib290c3RyYXAgOiAnLy9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvdHdpdHRlci1ib290c3RyYXAvMy4zLjUvanMvYm9vdHN0cmFwLm1pbidcbiAgICAsIGQzICAgICAgICA6ICcvL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9kMy8zLjUuNi9kMy5taW4nXG4gICAgLCBqcXVlcnkgICAgOiAnLy9jb2RlLmpxdWVyeS5jb20vanF1ZXJ5LTIuMS40Lm1pbidcbiAgICAsIGxlYWZsZXQgICA6ICcvL3VucGtnLmNvbS9sZWFmbGV0QDAuNy4zL2Rpc3QvbGVhZmxldCdcbiAgICAsIGxpZ2h0Ym94ICA6ICcvL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9tYWduaWZpYy1wb3B1cC5qcy8xLjAuMC9qcXVlcnkubWFnbmlmaWMtcG9wdXAubWluJ1xuICAgICwgc2xpZGVzanMgIDogJy8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL3NsaWRlc2pzLzMuMC9qcXVlcnkuc2xpZGVzLm1pbidcbiAgICAsIHRleHQgICAgICA6ICcvL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9yZXF1aXJlLXRleHQvMi4wLjEyL3RleHQubWluJ1xuICAgICwgdW5kZXJzY29yZTogJy8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL3VuZGVyc2NvcmUuanMvMS44LjMvdW5kZXJzY29yZS1taW4nXG4gICAgLCBwYXJ0aWFscyAgOiAnLi4vcGFydGlhbHMnXG4gICAgLCB4c2wgICAgICAgOiAnLi4vc2NyaXB0L3hzbCdcbiAgICAsIHBhZ2VzICAgICA6ICcuLi9wYWdlcydcbiAgfSxcbiAgc2hpbToge1xuICAgIGJvb3RzdHJhcDoge1xuICAgICAgZGVwczogWydqcXVlcnknXVxuICAgIH0sXG4gICAgYmFja2JvbmU6IHtcbiAgICAgICAgJ2RlcHMnOiBbJ2pxdWVyeScsICd1bmRlcnNjb3JlJ10sXG4gICAgICAgICdleHBvcnRzJzogJ0JhY2tib25lJ1xuICAgIH0sXG4gICAgdW5kZXJzY29yZToge1xuICAgICAgICAnZXhwb3J0cyc6ICdfJ1xuICAgIH0sXG4gICAgdGV4dDoge1xuICAgICAgICAnZGVwcyc6IFtdXG4gICAgfSxcbiAgICBzbGlkZXNqczoge1xuICAgICAgICBkZXBzOiBbJ2pxdWVyeSddXG4gICAgfSxcbiAgICBsaWdodGJveDoge1xuICAgICAgZGVwczogWydqcXVlcnknXVxuICAgIH1cbiAgfVxufSk7XG5yZXF1aXJlKFtcbiAgICAnanF1ZXJ5JyxcbiAgICAnbW9kZWxzL2Vycm9yL3VzZXInLFxuICAgICd2aWV3cy9lcnJvci91c2VyJyxcbiAgICAncm91dGVzL3JvdXRlcicsXG4gICAgJ3ZpZXdzL2FwcCcsXG4gICAgJ2Jvb3RzdHJhcCdcbl0sIGZ1bmN0aW9uKCQsVXNlckVycm9yTW9kZWwsVXNlckVycm9yVmlldyxSb3V0ZXIsQXBwVmlldykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgY29uZmlnZmlsZSA9ICQoJyNtYWluJykuYXR0cignZGF0YS1jb25maWcnKTtcbiAgICBpZiAoY29uZmlnZmlsZSkge1xuICAgICAgICAkLmdldEpTT04oY29uZmlnZmlsZSwgZnVuY3Rpb24oc2l0ZWNvbmZpZykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBuZXcgQXBwVmlldygpO1xuICAgICAgICAgICAgICAgIG5ldyBSb3V0ZXIoe1xuICAgICAgICAgICAgICAgICAgICAgIHJvdXRlczogc2l0ZWNvbmZpZy5wYWdlcy5yb3V0ZXNcbiAgICAgICAgICAgICAgICAgICAgLCBjb25maWc6IHNpdGVjb25maWdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNpdGVjb25maWcuZGVidWcpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3IFVzZXJFcnJvclZpZXcoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWw6IG5ldyBVc2VyRXJyb3JNb2RlbCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnOiBlLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkuZmFpbChmdW5jdGlvbihqcXhociwgdGV4dFN0YXR1cywgZXJyb3IpIHtcbiAgICAgICAgICAgIG5ldyBVc2VyRXJyb3JWaWV3KHtcbiAgICAgICAgICAgICAgICBtb2RlbDogbmV3IFVzZXJFcnJvck1vZGVsKHtcbiAgICAgICAgICAgICAgICAgICAgbXNnOiBcIkZhaWxlZCB0byBsb2FkIHNpdGUgY29uZmlnIGZpbGUgJ1wiICsgY29uZmlnZmlsZSArIFwiJyBcIiArIGVycm9yXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBuZXcgVXNlckVycm9yVmlldyh7XG4gICAgICAgICAgICBtb2RlbDogbmV3IFVzZXJFcnJvck1vZGVsKHtcbiAgICAgICAgICAgICAgICBtc2c6IFwiTm8gY29uZmlndXJhdGlvbiBmaWxlbmFtZSBzcGVjaWZpZWQgaW4gaG9tZSBwYWdlLlwiXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICB9XG59KTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==